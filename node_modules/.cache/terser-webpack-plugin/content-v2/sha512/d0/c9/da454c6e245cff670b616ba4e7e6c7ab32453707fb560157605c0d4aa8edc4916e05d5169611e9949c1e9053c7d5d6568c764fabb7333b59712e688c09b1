{"code":"(this[\"webpackJsonpxstate-react-typescript-template\"]=this[\"webpackJsonpxstate-react-typescript-template\"]||[]).push([[0],{22:function(e,t){throw new Error(\"Module build failed (from ./node_modules/babel-loader/lib/index.js):\\nSyntaxError: /Users/aggzagoura/react-xstate-colourchanger/src/dmAppointment.ts: Identifier 'promptAndAsk' has already been declared (255:9)\\n\\n\\x1b[0m \\x1b[90m 253 |\\x1b[39m \\x1b[36mlet\\x1b[39m b \\x1b[33m=\\x1b[39m grammar2[\\x1b[32m\\\"no\\\"\\x1b[39m]\\x1b[0m\\n\\x1b[0m \\x1b[90m 254 |\\x1b[39m\\x1b[0m\\n\\x1b[0m\\x1b[31m\\x1b[1m>\\x1b[22m\\x1b[39m\\x1b[90m 255 |\\x1b[39m \\x1b[36mfunction\\x1b[39m promptAndAsk(prompt\\x1b[33m:\\x1b[39m string)\\x1b[33m:\\x1b[39m \\x1b[33mMachineConfig\\x1b[39m\\x1b[33m<\\x1b[39m\\x1b[33mSDSContext\\x1b[39m\\x1b[33m,\\x1b[39m any\\x1b[33m,\\x1b[39m \\x1b[33mSDSEvent\\x1b[39m\\x1b[33m>\\x1b[39m {\\x1b[0m\\n\\x1b[0m \\x1b[90m     |\\x1b[39m          \\x1b[31m\\x1b[1m^\\x1b[22m\\x1b[39m\\x1b[0m\\n\\x1b[0m \\x1b[90m 256 |\\x1b[39m     \\x1b[36mreturn\\x1b[39m ({\\x1b[0m\\n\\x1b[0m \\x1b[90m 257 |\\x1b[39m         initial\\x1b[33m:\\x1b[39m \\x1b[32m'prompt'\\x1b[39m\\x1b[33m,\\x1b[39m\\x1b[0m\\n\\x1b[0m \\x1b[90m 258 |\\x1b[39m         states\\x1b[33m:\\x1b[39m {\\x1b[0m\\n    at Object._raise (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:776:17)\\n    at Object.raiseWithData (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:769:17)\\n    at Object.raise (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:737:17)\\n    at TypeScriptScopeHandler.checkRedeclarationInScope (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:1392:12)\\n    at TypeScriptScopeHandler.declareName (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:1358:12)\\n    at TypeScriptScopeHandler.declareName (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:5081:11)\\n    at Object.registerFunctionStatementId (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:12587:16)\\n    at Object.registerFunctionStatementId (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:6696:13)\\n    at Object.parseFunction (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:12567:12)\\n    at Object.parseFunctionStatement (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:12194:17)\\n    at Object.parseStatementContent (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:11884:21)\\n    at Object.parseStatementContent (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:6900:18)\\n    at Object.parseStatement (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:11846:17)\\n    at Object.parseBlockOrModuleBlockBody (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:12428:25)\\n    at Object.parseBlockBody (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:12419:10)\\n    at Object.parseTopLevel (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:11777:10)\")},26:function(e,t,a){\"use strict\";a.r(t);var r=a(25),s=a(11),n=(a(27),a(7),a(21)),o=a(39),c=a(3),l=a(15),i=a(38),m=a(22),g=a(20),b=a(12);Object(i.a)({url:\"https://statecharts.io/inspect\",iframe:!1});const d=Object(o.a)({id:\"root\",type:\"parallel\",states:{dm:Object(s.a)({},m.dmMachine),asrtts:{initial:\"idle\",states:{idle:{on:{LISTEN:\"recognising\",SPEAK:{target:\"speaking\",actions:Object(c.b)(((e,t)=>({ttsAgenda:t.value})))}}},recognising:{initial:\"progress\",entry:\"recStart\",exit:\"recStop\",on:{ASRRESULT:{actions:[\"recLogResult\",Object(c.b)(((e,t)=>({recResult:t.value})))],target:\".match\"},RECOGNISED:\"idle\"},states:{progress:{},match:{entry:Object(c.k)(\"RECOGNISED\")}}},speaking:{entry:\"ttsStart\",on:{ENDSPEECH:\"idle\"}}}}}},{actions:{recLogResult:e=>{console.log(\"<< ASR: \"+e.recResult)},test:()=>{console.log(\"test\")},logIntent:e=>{console.log(\"<< NLU intent: \"+e.nluData.intent.name)}}}),u=e=>{switch(!0){case e.state.matches({asrtts:\"recognising\"}):return Object(b.jsx)(\"button\",Object(s.a)(Object(s.a)({type:\"button\",className:\"glow-on-hover\",style:{animation:\"glowing 20s linear\"}},e),{},{children:\"Listening...\"}));case e.state.matches({asrtts:\"speaking\"}):return Object(b.jsx)(\"button\",Object(s.a)(Object(s.a)({type:\"button\",className:\"glow-on-hover\",style:{animation:\"bordering 1s infinite\"}},e),{},{children:\"Speaking...\"}));default:return Object(b.jsx)(\"button\",Object(s.a)(Object(s.a)({type:\"button\",className:\"glow-on-hover\"},e),{},{children:\"Click to start\"}))}};function p(){const e=Object(g.useSpeechSynthesis)({onEnd:()=>{p(\"ENDSPEECH\")}}),t=e.speak,a=e.cancel,s=(e.speaking,Object(g.useSpeechRecognition)({onResult:e=>{p({type:\"ASRRESULT\",value:e})}})),n=s.listen,o=(s.listening,s.stop),c=Object(l.b)(d,{devTools:!0,actions:{recStart:Object(l.a)((()=>{console.log(\"Ready to receive a color command.\"),n({interimResults:!1,continuous:!0})})),recStop:Object(l.a)((()=>{console.log(\"Recognition stopped.\"),o()})),changeColour:Object(l.a)((e=>{console.log(\"Repainting...\"),document.body.style.background=e.recResult})),ttsStart:Object(l.a)(((e,a)=>{console.log(\"Speaking...\"),t({text:e.ttsAgenda})})),ttsCancel:Object(l.a)(((e,t)=>{console.log(\"TTS STOP...\"),a()}))}}),i=Object(r.a)(c,3),m=i[0],p=i[1];i[2];return Object(b.jsx)(\"div\",{className:\"App\",children:Object(b.jsx)(u,{state:m,onClick:()=>p(\"CLICK\")})})}const j=document.getElementById(\"root\");n.render(Object(b.jsx)(p,{}),j)},27:function(e,t,a){}},[[26,1,2]]]);","name":"static/js/main.fe75aafd.chunk.js","map":{"version":3,"sources":["static/js/main.fe75aafd.chunk.js"],"names":["this","push","22","module","exports","Error","26","__webpack_exports__","__webpack_require__","r","_Users_aggzagoura_react_xstate_colourchanger_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","_Users_aggzagoura_react_xstate_colourchanger_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__","react_dom__WEBPACK_IMPORTED_MODULE_4__","xstate__WEBPACK_IMPORTED_MODULE_5__","xstate__WEBPACK_IMPORTED_MODULE_6__","_xstate_react__WEBPACK_IMPORTED_MODULE_7__","_xstate_inspect__WEBPACK_IMPORTED_MODULE_8__","_dmAppointment__WEBPACK_IMPORTED_MODULE_9__","react_speech_kit__WEBPACK_IMPORTED_MODULE_10__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__","Object","url","iframe","machine","id","type","states","dm","asrtts","initial","idle","on","LISTEN","SPEAK","target","actions","_context","event","ttsAgenda","value","recognising","entry","exit","ASRRESULT","recResult","RECOGNISED","progress","match","speaking","ENDSPEECH","recLogResult","context","console","log","test","logIntent","nluData","intent","name","ReactiveButton","props","state","matches","className","style","animation","children","App","_useSpeechSynthesis","onEnd","send","speak","cancel","_useSpeechRecognition","onResult","result","listen","stop","listening","_useMachine","devTools","recStart","interimResults","continuous","recStop","changeColour","document","body","background","ttsStart","effect","text","ttsCancel","_useMachine2","current","onClick","rootElement","getElementById","27"],"mappings":"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"},"input":"(this[\"webpackJsonpxstate-react-typescript-template\"] = this[\"webpackJsonpxstate-react-typescript-template\"] || []).push([[0],{\n\n/***/ 22:\n/***/ (function(module, exports) {\n\nthrow new Error(\"Module build failed (from ./node_modules/babel-loader/lib/index.js):\\nSyntaxError: /Users/aggzagoura/react-xstate-colourchanger/src/dmAppointment.ts: Identifier 'promptAndAsk' has already been declared (255:9)\\n\\n\\u001b[0m \\u001b[90m 253 |\\u001b[39m \\u001b[36mlet\\u001b[39m b \\u001b[33m=\\u001b[39m grammar2[\\u001b[32m\\\"no\\\"\\u001b[39m]\\u001b[0m\\n\\u001b[0m \\u001b[90m 254 |\\u001b[39m\\u001b[0m\\n\\u001b[0m\\u001b[31m\\u001b[1m>\\u001b[22m\\u001b[39m\\u001b[90m 255 |\\u001b[39m \\u001b[36mfunction\\u001b[39m promptAndAsk(prompt\\u001b[33m:\\u001b[39m string)\\u001b[33m:\\u001b[39m \\u001b[33mMachineConfig\\u001b[39m\\u001b[33m<\\u001b[39m\\u001b[33mSDSContext\\u001b[39m\\u001b[33m,\\u001b[39m any\\u001b[33m,\\u001b[39m \\u001b[33mSDSEvent\\u001b[39m\\u001b[33m>\\u001b[39m {\\u001b[0m\\n\\u001b[0m \\u001b[90m     |\\u001b[39m          \\u001b[31m\\u001b[1m^\\u001b[22m\\u001b[39m\\u001b[0m\\n\\u001b[0m \\u001b[90m 256 |\\u001b[39m     \\u001b[36mreturn\\u001b[39m ({\\u001b[0m\\n\\u001b[0m \\u001b[90m 257 |\\u001b[39m         initial\\u001b[33m:\\u001b[39m \\u001b[32m'prompt'\\u001b[39m\\u001b[33m,\\u001b[39m\\u001b[0m\\n\\u001b[0m \\u001b[90m 258 |\\u001b[39m         states\\u001b[33m:\\u001b[39m {\\u001b[0m\\n    at Object._raise (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:776:17)\\n    at Object.raiseWithData (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:769:17)\\n    at Object.raise (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:737:17)\\n    at TypeScriptScopeHandler.checkRedeclarationInScope (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:1392:12)\\n    at TypeScriptScopeHandler.declareName (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:1358:12)\\n    at TypeScriptScopeHandler.declareName (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:5081:11)\\n    at Object.registerFunctionStatementId (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:12587:16)\\n    at Object.registerFunctionStatementId (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:6696:13)\\n    at Object.parseFunction (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:12567:12)\\n    at Object.parseFunctionStatement (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:12194:17)\\n    at Object.parseStatementContent (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:11884:21)\\n    at Object.parseStatementContent (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:6900:18)\\n    at Object.parseStatement (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:11846:17)\\n    at Object.parseBlockOrModuleBlockBody (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:12428:25)\\n    at Object.parseBlockBody (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:12419:10)\\n    at Object.parseTopLevel (/Users/aggzagoura/react-xstate-colourchanger/node_modules/@babel/parser/lib/index.js:11777:10)\");\n\n/***/ }),\n\n/***/ 26:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Users_aggzagoura_react_xstate_colourchanger_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(25);\n/* harmony import */ var _Users_aggzagoura_react_xstate_colourchanger_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);\n/* harmony import */ var _styles_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(27);\n/* harmony import */ var _styles_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_styles_scss__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(21);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var xstate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(39);\n/* harmony import */ var xstate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(3);\n/* harmony import */ var _xstate_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(15);\n/* harmony import */ var _xstate_inspect__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(38);\n/* harmony import */ var _dmAppointment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(22);\n/* harmony import */ var _dmAppointment__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_dmAppointment__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var react_speech_kit__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(20);\n/* harmony import */ var react_speech_kit__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_speech_kit__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(12);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__);\nObject(_xstate_inspect__WEBPACK_IMPORTED_MODULE_8__[/* inspect */ \"a\"])({url:\"https://statecharts.io/inspect\",iframe:false});const machine=Object(xstate__WEBPACK_IMPORTED_MODULE_5__[/* Machine */ \"a\"])({id:'root',type:'parallel',states:{dm:Object(_Users_aggzagoura_react_xstate_colourchanger_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({},_dmAppointment__WEBPACK_IMPORTED_MODULE_9__[\"dmMachine\"]),asrtts:{initial:'idle',states:{idle:{on:{LISTEN:'recognising',SPEAK:{target:'speaking',actions:Object(xstate__WEBPACK_IMPORTED_MODULE_6__[/* assign */ \"b\"])((_context,event)=>{return{ttsAgenda:event.value};})}}},recognising:{initial:'progress',entry:'recStart',exit:'recStop',on:{ASRRESULT:{actions:['recLogResult',Object(xstate__WEBPACK_IMPORTED_MODULE_6__[/* assign */ \"b\"])((_context,event)=>{return{recResult:event.value};})],target:'.match'},RECOGNISED:'idle'},states:{progress:{},match:{entry:Object(xstate__WEBPACK_IMPORTED_MODULE_6__[/* send */ \"k\"])('RECOGNISED')}}},speaking:{entry:'ttsStart',on:{ENDSPEECH:'idle'}}}}}},{actions:{recLogResult:context=>{/* context.recResult = event.recResult; */console.log('<< ASR: '+context.recResult);},test:()=>{console.log('test');},logIntent:context=>{/* context.nluData = event.data */console.log('<< NLU intent: '+context.nluData.intent.name);}}});const ReactiveButton=props=>{switch(true){case props.state.matches({asrtts:'recognising'}):return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"button\",Object(_Users_aggzagoura_react_xstate_colourchanger_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(Object(_Users_aggzagoura_react_xstate_colourchanger_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({type:\"button\",className:\"glow-on-hover\",style:{animation:\"glowing 20s linear\"}},props),{},{children:\"Listening...\"}));case props.state.matches({asrtts:'speaking'}):return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"button\",Object(_Users_aggzagoura_react_xstate_colourchanger_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(Object(_Users_aggzagoura_react_xstate_colourchanger_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({type:\"button\",className:\"glow-on-hover\",style:{animation:\"bordering 1s infinite\"}},props),{},{children:\"Speaking...\"}));default:return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"button\",Object(_Users_aggzagoura_react_xstate_colourchanger_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(Object(_Users_aggzagoura_react_xstate_colourchanger_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({type:\"button\",className:\"glow-on-hover\"},props),{},{children:\"Click to start\"}));}};function App(){const _useSpeechSynthesis=Object(react_speech_kit__WEBPACK_IMPORTED_MODULE_10__[\"useSpeechSynthesis\"])({onEnd:()=>{send('ENDSPEECH');}}),speak=_useSpeechSynthesis.speak,cancel=_useSpeechSynthesis.cancel,speaking=_useSpeechSynthesis.speaking;const _useSpeechRecognition=Object(react_speech_kit__WEBPACK_IMPORTED_MODULE_10__[\"useSpeechRecognition\"])({onResult:result=>{send({type:\"ASRRESULT\",value:result});}}),listen=_useSpeechRecognition.listen,listening=_useSpeechRecognition.listening,stop=_useSpeechRecognition.stop;const _useMachine=Object(_xstate_react__WEBPACK_IMPORTED_MODULE_7__[/* useMachine */ \"b\"])(machine,{devTools:true,actions:{recStart:Object(_xstate_react__WEBPACK_IMPORTED_MODULE_7__[/* asEffect */ \"a\"])(()=>{console.log('Ready to receive a color command.');listen({interimResults:false,continuous:true});}),recStop:Object(_xstate_react__WEBPACK_IMPORTED_MODULE_7__[/* asEffect */ \"a\"])(()=>{console.log('Recognition stopped.');stop();}),changeColour:Object(_xstate_react__WEBPACK_IMPORTED_MODULE_7__[/* asEffect */ \"a\"])(context=>{console.log('Repainting...');document.body.style.background=context.recResult;}),ttsStart:Object(_xstate_react__WEBPACK_IMPORTED_MODULE_7__[/* asEffect */ \"a\"])((context,effect)=>{console.log('Speaking...');speak({text:context.ttsAgenda});}),ttsCancel:Object(_xstate_react__WEBPACK_IMPORTED_MODULE_7__[/* asEffect */ \"a\"])((context,effect)=>{console.log('TTS STOP...');cancel();})/* speak: asEffect((context) => {\n\t     * console.log('Speaking...');\n             *     speak({text: context.ttsAgenda })\n             * } */}}),_useMachine2=Object(_Users_aggzagoura_react_xstate_colourchanger_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useMachine,3),current=_useMachine2[0],send=_useMachine2[1],service=_useMachine2[2];return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(ReactiveButton,{state:current,onClick:()=>send('CLICK')})});};/* RASA API\n *  */const proxyurl=\"https://cors-anywhere.herokuapp.com/\";const rasaurl='https://rasa-nlu-app.herokuapp.com/model/parse';const nluRequest=text=>fetch(new Request(proxyurl+rasaurl,{method:'POST',headers:{'Origin':'http://maraev.me'},// only required with proxy\nbody:\"{\\\"text\\\": \\\"\".concat(text,\"\\\"}\")})).then(data=>data.json());const rootElement=document.getElementById(\"root\");react_dom__WEBPACK_IMPORTED_MODULE_4__[\"render\"](/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(App,{}),rootElement);\n\n/***/ }),\n\n/***/ 27:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[26,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/aggzagoura/react-xstate-colourchanger/src/index.tsx","/Users/aggzagoura/react-xstate-colourchanger/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/Users/aggzagoura/react-xstate-colourchanger/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/Users/aggzagoura/react-xstate-colourchanger/node_modules/postcss-loader/src/index.js??postcss!/Users/aggzagoura/react-xstate-colourchanger/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/Users/aggzagoura/react-xstate-colourchanger/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/Users/aggzagoura/react-xstate-colourchanger/src/styles.scss"],"names":["inspect","url","iframe","machine","Machine","id","type","states","dm","dmMachine","asrtts","initial","idle","on","LISTEN","SPEAK","target","actions","assign","_context","event","ttsAgenda","value","recognising","entry","exit","ASRRESULT","recResult","RECOGNISED","progress","match","send","speaking","ENDSPEECH","recLogResult","context","console","log","test","logIntent","nluData","intent","name","ReactiveButton","props","state","matches","animation","App","useSpeechSynthesis","onEnd","speak","cancel","useSpeechRecognition","onResult","result","listen","listening","stop","useMachine","devTools","recStart","asEffect","interimResults","continuous","recStop","changeColour","document","body","style","background","ttsStart","effect","text","ttsCancel","current","service","proxyurl","rasaurl","nluRequest","fetch","Request","method","headers","then","data","json","rootElement","getElementById","ReactDOM"],"mappings":"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","file":"x","sourcesContent":["import \"./styles.scss\";\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { Machine, assign, send, State } from \"xstate\";\nimport { useMachine, asEffect } from \"@xstate/react\";\nimport { inspect } from \"@xstate/inspect\";\nimport { dmMachine } from \"./dmAppointment\";\n\n\ninspect({\n    url: \"https://statecharts.io/inspect\",\n    iframe: false\n});\n\nimport { useSpeechSynthesis, useSpeechRecognition } from 'react-speech-kit';\n\n\nconst machine = Machine<SDSContext, any, SDSEvent>({\n    id: 'root',\n    type: 'parallel',\n    states: {\n        dm: {\n            ...dmMachine\n        },\n        asrtts: {\n            initial: 'idle',\n            states: {\n                idle: {\n                    on: {\n                        LISTEN: 'recognising',\n                        SPEAK: {\n                            target: 'speaking',\n                            actions: assign((_context, event) => { return { ttsAgenda: event.value } })\n                        }\n                    }\n                },\n                recognising: {\n\t\t    initial: 'progress',\n                    entry: 'recStart',\n                    exit: 'recStop',\n                    on: {\n                        ASRRESULT: {\n                            actions: ['recLogResult',\n                                assign((_context, event) => { return { recResult: event.value } })],\n                            target: '.match'\n                        },\n                        RECOGNISED: 'idle'\n                    },\n                    states: {\n\t\t    \tprogress: {\n\t\t\t},\t    \t\t\t\t\t\n                        match: {\n                            entry: send('RECOGNISED'),\n                        },\n                    }\n                },\n                speaking: {\n                    entry: 'ttsStart',\n                    on: {\n                        ENDSPEECH: 'idle',\n                    }\n                }\n            }\n        }\n    },\n},\n    {\n        actions: {\n            recLogResult: (context: SDSContext) => {\n                /* context.recResult = event.recResult; */\n                console.log('<< ASR: ' + context.recResult);\n            },\n            test: () => {\n                console.log('test')\n            },\n            logIntent: (context: SDSContext) => {\n                /* context.nluData = event.data */\n                console.log('<< NLU intent: ' + context.nluData.intent.name)\n            }\n        },\n    });\n\n\n\ninterface Props extends React.HTMLAttributes<HTMLElement> {\n    state: State<SDSContext, any, any, any>;\n}\nconst ReactiveButton = (props: Props): JSX.Element => {\n    switch (true) {\n        case props.state.matches({ asrtts: 'recognising' }):\n            return (\n                <button type=\"button\" className=\"glow-on-hover\"\n                    style={{ animation: \"glowing 20s linear\" }} {...props}>\n                    Listening...\n                </button>\n            );\n        case props.state.matches({ asrtts: 'speaking' }):\n            return (\n                <button type=\"button\" className=\"glow-on-hover\"\n                    style={{ animation: \"bordering 1s infinite\" }} {...props}>\n                    Speaking...\n                </button>\n            );\n        default:\n            return (\n                <button type=\"button\" className=\"glow-on-hover\" {...props}>\n                    Click to start\n                </button >\n            );\n    }\n}\n\nfunction App() {\n    const { speak, cancel, speaking } = useSpeechSynthesis({\n        onEnd: () => {\n            send('ENDSPEECH');\n        },\n    });\n    const { listen, listening, stop } = useSpeechRecognition({\n        onResult: (result: any) => {\n            send({ type: \"ASRRESULT\", value: result });\n        },\n    });\n    const [current, send, service] = useMachine(machine, {\n        devTools: true,\n        actions: {\n            recStart: asEffect(() => {\n                console.log('Ready to receive a color command.');\n                listen({\n                    interimResults: false,\n                    continuous: true\n                });\n            }),\n            recStop: asEffect(() => {\n                console.log('Recognition stopped.');\n                stop()\n            }),\n            changeColour: asEffect((context) => {\n                console.log('Repainting...');\n                document.body.style.background = context.recResult;\n            }),\n            ttsStart: asEffect((context, effect) => {\n                console.log('Speaking...');\n                speak({ text: context.ttsAgenda })\n            }),\n            ttsCancel: asEffect((context, effect) => {\n                console.log('TTS STOP...');\n                cancel()\n            })\n            /* speak: asEffect((context) => {\n\t     * console.log('Speaking...');\n             *     speak({text: context.ttsAgenda })\n             * } */\n        }\n    });\n\n\n    return (\n        <div className=\"App\">\n            <ReactiveButton state={current} onClick={() => send('CLICK')} />\n        </div>\n    )\n};\n\n\n\n/* RASA API\n *  */\nconst proxyurl = \"https://cors-anywhere.herokuapp.com/\";\nconst rasaurl = 'https://rasa-nlu-app.herokuapp.com/model/parse'\nconst nluRequest = (text: string) =>\n    fetch(new Request(proxyurl + rasaurl, {\n        method: 'POST',\n        headers: { 'Origin': 'http://maraev.me' }, // only required with proxy\n        body: `{\"text\": \"${text}\"}`\n    }))\n        .then(data => data.json());\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n    <App />,\n    rootElement);\n","// extracted by mini-css-extract-plugin"]}}