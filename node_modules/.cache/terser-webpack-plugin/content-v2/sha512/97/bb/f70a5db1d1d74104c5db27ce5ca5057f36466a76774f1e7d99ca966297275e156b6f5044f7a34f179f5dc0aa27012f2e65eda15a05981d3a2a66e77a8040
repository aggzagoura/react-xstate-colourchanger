{"code":"(this[\"webpackJsonpxstate-react-typescript-template\"]=this[\"webpackJsonpxstate-react-typescript-template\"]||[]).push([[2],[function(t,e,r){\"use strict\";r.d(e,\"a\",(function(){return y})),r.d(e,\"b\",(function(){return l}));var n=function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function o(t){try{return i(t)||\"number\"===typeof t?\"\"+t:t.type}catch(e){throw new Error(\"Events must be strings or objects with a string event.type property.\")}}function a(t){return\"function\"===typeof t}function i(t){return\"string\"===typeof t}var s,c;function u(t,e){return i(t)||\"number\"===typeof t?n({type:t},e):t}!function(t){t.Start=\"xstate.start\",t.Stop=\"xstate.stop\",t.Raise=\"xstate.raise\",t.Send=\"xstate.send\",t.Cancel=\"xstate.cancel\",t.NullEvent=\"\",t.Assign=\"xstate.assign\",t.After=\"xstate.after\",t.DoneState=\"done.state\",t.DoneInvoke=\"done.invoke\",t.Log=\"xstate.log\",t.Init=\"xstate.init\",t.Invoke=\"xstate.invoke\",t.ErrorExecution=\"error.execution\",t.ErrorCommunication=\"error.communication\",t.ErrorPlatform=\"error.platform\",t.ErrorCustom=\"xstate.error\",t.Update=\"xstate.update\",t.Pure=\"xstate.pure\",t.Choose=\"xstate.choose\"}(s||(s={})),function(t){t.Parent=\"#_parent\",t.Internal=\"#_internal\"}(c||(c={}));s.Start,s.Stop,s.Raise;var p=s.Send,f=(s.Cancel,s.NullEvent,s.Assign);s.After,s.DoneState,s.Log,s.Init,s.Invoke,s.ErrorExecution,s.ErrorPlatform,s.ErrorCustom,s.Update,s.Choose,s.Pure;function l(t,e){return{to:e?e.to:void 0,type:p,event:a(t)?t:u(t),delay:e?e.delay:void 0,id:e&&void 0!==e.id?e.id:a(t)?t.name:o(t)}}var y=function(t){return{type:f,assignment:t}}},function(t,e,r){\"use strict\";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}r.d(e,\"a\",(function(){return a}))}]]);","name":"static/js/2.a7809ac2.chunk.js","map":{"version":3,"sources":["static/js/2.a7809ac2.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","d","actions_assign","actions_send","_assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","getEventType","event","isString","type","e","Error","isFunction","value","ActionTypes","SpecialTargets","toEventObject","payload","Start","Stop","Raise","send","Send","actionTypes_assign","Cancel","NullEvent","Assign","After","DoneState","Log","Init","Invoke","ErrorExecution","ErrorPlatform","ErrorCustom","Update","Choose","Pure","options","to","undefined","delay","id","name","assignment","_defineProperty","obj","key","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread2","target","source","forEach","getOwnPropertyDescriptors","defineProperties"],"mappings":"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"},"input":"(this[\"webpackJsonpxstate-react-typescript-template\"] = this[\"webpackJsonpxstate-react-typescript-template\"] || []).push([[2],[\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ actions_assign; });\n__webpack_require__.d(__webpack_exports__, \"b\", function() { return /* binding */ actions_send; });\n\n// UNUSED EXPORTS: after, cancel, choose, done, doneInvoke, error, escalate, forwardTo, getActionFunction, initEvent, log, pure, raise, resolveActions, resolveLog, resolveRaise, resolveSend, respond, sendParent, sendUpdate, start, stop, toActionObject, toActionObjects, toActivityDefinition\n\n// CONCATENATED MODULE: ./node_modules/xstate/es/_virtual/_tslib.js\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\n\nfunction __values(o) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n      i = 0;\n  if (m) return m.call(o);\n  return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n}\n\nfunction __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\n\nfunction __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n\n  return ar;\n}\n\n\n// CONCATENATED MODULE: ./node_modules/xstate/es/environment.js\nvar IS_PRODUCTION = \"production\" === 'production';\n\n// CONCATENATED MODULE: ./node_modules/xstate/es/constants.js\nvar STATE_DELIMITER = '.';\nvar EMPTY_ACTIVITY_MAP = {};\nvar DEFAULT_GUARD_TYPE = 'xstate.guard';\nvar TARGETLESS_KEY = '';\n\n// CONCATENATED MODULE: ./node_modules/xstate/es/utils.js\n\n\n\n\nfunction keys(value) {\n  return Object.keys(value);\n}\n\nfunction matchesState(parentStateId, childStateId, delimiter) {\n  if (delimiter === void 0) {\n    delimiter = STATE_DELIMITER;\n  }\n\n  var parentStateValue = toStateValue(parentStateId, delimiter);\n  var childStateValue = toStateValue(childStateId, delimiter);\n\n  if (isString(childStateValue)) {\n    if (isString(parentStateValue)) {\n      return childStateValue === parentStateValue;\n    } // Parent more specific than child\n\n\n    return false;\n  }\n\n  if (isString(parentStateValue)) {\n    return parentStateValue in childStateValue;\n  }\n\n  return keys(parentStateValue).every(function (key) {\n    if (!(key in childStateValue)) {\n      return false;\n    }\n\n    return matchesState(parentStateValue[key], childStateValue[key]);\n  });\n}\n\nfunction getEventType(event) {\n  try {\n    return isString(event) || typeof event === 'number' ? \"\" + event : event.type;\n  } catch (e) {\n    throw new Error('Events must be strings or objects with a string event.type property.');\n  }\n}\n\nfunction toStatePath(stateId, delimiter) {\n  try {\n    if (isArray(stateId)) {\n      return stateId;\n    }\n\n    return stateId.toString().split(delimiter);\n  } catch (e) {\n    throw new Error(\"'\" + stateId + \"' is not a valid state path.\");\n  }\n}\n\nfunction isStateLike(state) {\n  return typeof state === 'object' && 'value' in state && 'context' in state && 'event' in state && '_event' in state;\n}\n\nfunction toStateValue(stateValue, delimiter) {\n  if (isStateLike(stateValue)) {\n    return stateValue.value;\n  }\n\n  if (isArray(stateValue)) {\n    return pathToStateValue(stateValue);\n  }\n\n  if (typeof stateValue !== 'string') {\n    return stateValue;\n  }\n\n  var statePath = toStatePath(stateValue, delimiter);\n  return pathToStateValue(statePath);\n}\n\nfunction pathToStateValue(statePath) {\n  if (statePath.length === 1) {\n    return statePath[0];\n  }\n\n  var value = {};\n  var marker = value;\n\n  for (var i = 0; i < statePath.length - 1; i++) {\n    if (i === statePath.length - 2) {\n      marker[statePath[i]] = statePath[i + 1];\n    } else {\n      marker[statePath[i]] = {};\n      marker = marker[statePath[i]];\n    }\n  }\n\n  return value;\n}\n\nfunction mapValues(collection, iteratee) {\n  var result = {};\n  var collectionKeys = keys(collection);\n\n  for (var i = 0; i < collectionKeys.length; i++) {\n    var key = collectionKeys[i];\n    result[key] = iteratee(collection[key], key, collection, i);\n  }\n\n  return result;\n}\n\nfunction mapFilterValues(collection, iteratee, predicate) {\n  var e_1, _a;\n\n  var result = {};\n\n  try {\n    for (var _b = __values(keys(collection)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var key = _c.value;\n      var item = collection[key];\n\n      if (!predicate(item)) {\n        continue;\n      }\n\n      result[key] = iteratee(item, key, collection);\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  return result;\n}\n/**\r\n * Retrieves a value at the given path.\r\n * @param props The deep path to the prop of the desired value\r\n */\n\n\nvar utils_path = function path(props) {\n  return function (object) {\n    var e_2, _a;\n\n    var result = object;\n\n    try {\n      for (var props_1 = __values(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()) {\n        var prop = props_1_1.value;\n        result = result[prop];\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (props_1_1 && !props_1_1.done && (_a = props_1.return)) _a.call(props_1);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n\n    return result;\n  };\n};\n/**\r\n * Retrieves a value at the given path via the nested accessor prop.\r\n * @param props The deep path to the prop of the desired value\r\n */\n\n\nfunction nestedPath(props, accessorProp) {\n  return function (object) {\n    var e_3, _a;\n\n    var result = object;\n\n    try {\n      for (var props_2 = __values(props), props_2_1 = props_2.next(); !props_2_1.done; props_2_1 = props_2.next()) {\n        var prop = props_2_1.value;\n        result = result[accessorProp][prop];\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (props_2_1 && !props_2_1.done && (_a = props_2.return)) _a.call(props_2);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    return result;\n  };\n}\n\nfunction toStatePaths(stateValue) {\n  if (!stateValue) {\n    return [[]];\n  }\n\n  if (isString(stateValue)) {\n    return [[stateValue]];\n  }\n\n  var result = flatten(keys(stateValue).map(function (key) {\n    var subStateValue = stateValue[key];\n\n    if (typeof subStateValue !== 'string' && (!subStateValue || !Object.keys(subStateValue).length)) {\n      return [[key]];\n    }\n\n    return toStatePaths(stateValue[key]).map(function (subPath) {\n      return [key].concat(subPath);\n    });\n  }));\n  return result;\n}\n\nfunction flatten(array) {\n  var _a;\n\n  return (_a = []).concat.apply(_a, __spread(array));\n}\n\nfunction toArrayStrict(value) {\n  if (isArray(value)) {\n    return value;\n  }\n\n  return [value];\n}\n\nfunction toArray(value) {\n  if (value === undefined) {\n    return [];\n  }\n\n  return toArrayStrict(value);\n}\n\nfunction mapContext(mapper, context, _event) {\n  var e_5, _a;\n\n  if (isFunction(mapper)) {\n    return mapper(context, _event.data);\n  }\n\n  var result = {};\n\n  try {\n    for (var _b = __values(Object.keys(mapper)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var key = _c.value;\n      var subMapper = mapper[key];\n\n      if (isFunction(subMapper)) {\n        result[key] = subMapper(context, _event.data);\n      } else {\n        result[key] = subMapper;\n      }\n    }\n  } catch (e_5_1) {\n    e_5 = {\n      error: e_5_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_5) throw e_5.error;\n    }\n  }\n\n  return result;\n}\n\nfunction isBuiltInEvent(eventType) {\n  return /^(done|error)\\./.test(eventType);\n}\n\nfunction isPromiseLike(value) {\n  if (value instanceof Promise) {\n    return true;\n  } // Check if shape matches the Promise/A+ specification for a \"thenable\".\n\n\n  if (value !== null && (isFunction(value) || typeof value === 'object') && isFunction(value.then)) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction partition(items, predicate) {\n  var e_6, _a;\n\n  var _b = __read([[], []], 2),\n      truthy = _b[0],\n      falsy = _b[1];\n\n  try {\n    for (var items_1 = __values(items), items_1_1 = items_1.next(); !items_1_1.done; items_1_1 = items_1.next()) {\n      var item = items_1_1.value;\n\n      if (predicate(item)) {\n        truthy.push(item);\n      } else {\n        falsy.push(item);\n      }\n    }\n  } catch (e_6_1) {\n    e_6 = {\n      error: e_6_1\n    };\n  } finally {\n    try {\n      if (items_1_1 && !items_1_1.done && (_a = items_1.return)) _a.call(items_1);\n    } finally {\n      if (e_6) throw e_6.error;\n    }\n  }\n\n  return [truthy, falsy];\n}\n\nfunction updateHistoryStates(hist, stateValue) {\n  return mapValues(hist.states, function (subHist, key) {\n    if (!subHist) {\n      return undefined;\n    }\n\n    var subStateValue = (isString(stateValue) ? undefined : stateValue[key]) || (subHist ? subHist.current : undefined);\n\n    if (!subStateValue) {\n      return undefined;\n    }\n\n    return {\n      current: subStateValue,\n      states: updateHistoryStates(subHist, subStateValue)\n    };\n  });\n}\n\nfunction updateHistoryValue(hist, stateValue) {\n  return {\n    current: stateValue,\n    states: updateHistoryStates(hist, stateValue)\n  };\n}\n\nfunction updateContext(context, _event, assignActions, state) {\n  if (!IS_PRODUCTION) {\n    warn(!!context, 'Attempting to update undefined context');\n  }\n\n  var updatedContext = context ? assignActions.reduce(function (acc, assignAction) {\n    var e_7, _a;\n\n    var assignment = assignAction.assignment;\n    var meta = {\n      state: state,\n      action: assignAction,\n      _event: _event\n    };\n    var partialUpdate = {};\n\n    if (isFunction(assignment)) {\n      partialUpdate = assignment(acc, _event.data, meta);\n    } else {\n      try {\n        for (var _b = __values(keys(assignment)), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var key = _c.value;\n          var propAssignment = assignment[key];\n          partialUpdate[key] = isFunction(propAssignment) ? propAssignment(acc, _event.data, meta) : propAssignment;\n        }\n      } catch (e_7_1) {\n        e_7 = {\n          error: e_7_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_7) throw e_7.error;\n        }\n      }\n    }\n\n    return Object.assign({}, acc, partialUpdate);\n  }, context) : context;\n  return updatedContext;\n} // tslint:disable-next-line:no-empty\n\n\nvar warn = function warn() {};\n\nif (!IS_PRODUCTION) {\n  warn = function warn(condition, message) {\n    var error = condition instanceof Error ? condition : undefined;\n\n    if (!error && condition) {\n      return;\n    }\n\n    if (console !== undefined) {\n      var args = [\"Warning: \" + message];\n\n      if (error) {\n        args.push(error);\n      } // tslint:disable-next-line:no-console\n\n\n      console.warn.apply(console, args);\n    }\n  };\n}\n\nfunction isArray(value) {\n  return Array.isArray(value);\n} // tslint:disable-next-line:ban-types\n\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n\nfunction isString(value) {\n  return typeof value === 'string';\n} // export function memoizedGetter<T, TP extends { prototype: object }>(\n//   o: TP,\n//   property: string,\n//   getter: () => T\n// ): void {\n//   Object.defineProperty(o.prototype, property, {\n//     get: getter,\n//     enumerable: false,\n//     configurable: false\n//   });\n// }\n\n\nfunction toGuard(condition, guardMap) {\n  if (!condition) {\n    return undefined;\n  }\n\n  if (isString(condition)) {\n    return {\n      type: DEFAULT_GUARD_TYPE,\n      name: condition,\n      predicate: guardMap ? guardMap[condition] : undefined\n    };\n  }\n\n  if (isFunction(condition)) {\n    return {\n      type: DEFAULT_GUARD_TYPE,\n      name: condition.name,\n      predicate: condition\n    };\n  }\n\n  return condition;\n}\n\nfunction isObservable(value) {\n  try {\n    return 'subscribe' in value && isFunction(value.subscribe);\n  } catch (e) {\n    return false;\n  }\n}\n\nvar symbolObservable = /*#__PURE__*/function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n}();\n\nfunction isMachine(value) {\n  try {\n    return '__xstatenode' in value;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar uniqueId = /*#__PURE__*/function () {\n  var currentId = 0;\n  return function () {\n    currentId++;\n    return currentId.toString(16);\n  };\n}();\n\nfunction toEventObject(event, payload // id?: TEvent['type']\n) {\n  if (isString(event) || typeof event === 'number') {\n    return _assign({\n      type: event\n    }, payload);\n  }\n\n  return event;\n}\n\nfunction toSCXMLEvent(event, scxmlEvent) {\n  if (!isString(event) && '$$type' in event && event.$$type === 'scxml') {\n    return event;\n  }\n\n  var eventObject = toEventObject(event);\n  return _assign({\n    name: eventObject.type,\n    data: eventObject,\n    $$type: 'scxml',\n    type: 'external'\n  }, scxmlEvent);\n}\n\nfunction toTransitionConfigArray(event, configLike) {\n  var transitions = toArrayStrict(configLike).map(function (transitionLike) {\n    if (typeof transitionLike === 'undefined' || typeof transitionLike === 'string' || isMachine(transitionLike)) {\n      return {\n        target: transitionLike,\n        event: event\n      };\n    }\n\n    return _assign(_assign({}, transitionLike), {\n      event: event\n    });\n  });\n  return transitions;\n}\n\nfunction normalizeTarget(target) {\n  if (target === undefined || target === TARGETLESS_KEY) {\n    return undefined;\n  }\n\n  return toArray(target);\n}\n\nfunction reportUnhandledExceptionOnInvocation(originalError, currentError, id) {\n  if (!IS_PRODUCTION) {\n    var originalStackTrace = originalError.stack ? \" Stacktrace was '\" + originalError.stack + \"'\" : '';\n\n    if (originalError === currentError) {\n      // tslint:disable-next-line:no-console\n      console.error(\"Missing onError handler for invocation '\" + id + \"', error was '\" + originalError + \"'.\" + originalStackTrace);\n    } else {\n      var stackTrace = currentError.stack ? \" Stacktrace was '\" + currentError.stack + \"'\" : ''; // tslint:disable-next-line:no-console\n\n      console.error(\"Missing onError handler and/or unhandled exception/promise rejection for invocation '\" + id + \"'. \" + (\"Original error: '\" + originalError + \"'. \" + originalStackTrace + \" Current error is '\" + currentError + \"'.\" + stackTrace));\n    }\n  }\n}\n\nfunction evaluateGuard(machine, guard, context, _event, state) {\n  var guards = machine.options.guards;\n  var guardMeta = {\n    state: state,\n    cond: guard,\n    _event: _event\n  }; // TODO: do not hardcode!\n\n  if (guard.type === DEFAULT_GUARD_TYPE) {\n    return guard.predicate(context, _event.data, guardMeta);\n  }\n\n  var condFn = guards[guard.type];\n\n  if (!condFn) {\n    throw new Error(\"Guard '\" + guard.type + \"' is not implemented on machine '\" + machine.id + \"'.\");\n  }\n\n  return condFn(context, _event.data, guardMeta);\n}\n\nfunction toInvokeSource(src) {\n  if (typeof src === 'string') {\n    return {\n      type: src\n    };\n  }\n\n  return src;\n}\n\n\n// CONCATENATED MODULE: ./node_modules/xstate/es/types.js\nvar ActionTypes;\n\n(function (ActionTypes) {\n  ActionTypes[\"Start\"] = \"xstate.start\";\n  ActionTypes[\"Stop\"] = \"xstate.stop\";\n  ActionTypes[\"Raise\"] = \"xstate.raise\";\n  ActionTypes[\"Send\"] = \"xstate.send\";\n  ActionTypes[\"Cancel\"] = \"xstate.cancel\";\n  ActionTypes[\"NullEvent\"] = \"\";\n  ActionTypes[\"Assign\"] = \"xstate.assign\";\n  ActionTypes[\"After\"] = \"xstate.after\";\n  ActionTypes[\"DoneState\"] = \"done.state\";\n  ActionTypes[\"DoneInvoke\"] = \"done.invoke\";\n  ActionTypes[\"Log\"] = \"xstate.log\";\n  ActionTypes[\"Init\"] = \"xstate.init\";\n  ActionTypes[\"Invoke\"] = \"xstate.invoke\";\n  ActionTypes[\"ErrorExecution\"] = \"error.execution\";\n  ActionTypes[\"ErrorCommunication\"] = \"error.communication\";\n  ActionTypes[\"ErrorPlatform\"] = \"error.platform\";\n  ActionTypes[\"ErrorCustom\"] = \"xstate.error\";\n  ActionTypes[\"Update\"] = \"xstate.update\";\n  ActionTypes[\"Pure\"] = \"xstate.pure\";\n  ActionTypes[\"Choose\"] = \"xstate.choose\";\n})(ActionTypes || (ActionTypes = {}));\n\nvar SpecialTargets;\n\n(function (SpecialTargets) {\n  SpecialTargets[\"Parent\"] = \"#_parent\";\n  SpecialTargets[\"Internal\"] = \"#_internal\";\n})(SpecialTargets || (SpecialTargets = {}));\n\n\n// CONCATENATED MODULE: ./node_modules/xstate/es/actionTypes.js\n // xstate-specific action types\n\nvar start = ActionTypes.Start;\nvar stop = ActionTypes.Stop;\nvar raise = ActionTypes.Raise;\nvar send = ActionTypes.Send;\nvar actionTypes_cancel = ActionTypes.Cancel;\nvar nullEvent = ActionTypes.NullEvent;\nvar actionTypes_assign = ActionTypes.Assign;\nvar after = ActionTypes.After;\nvar doneState = ActionTypes.DoneState;\nvar log = ActionTypes.Log;\nvar init = ActionTypes.Init;\nvar invoke = ActionTypes.Invoke;\nvar errorExecution = ActionTypes.ErrorExecution;\nvar errorPlatform = ActionTypes.ErrorPlatform;\nvar error = ActionTypes.ErrorCustom;\nvar update = ActionTypes.Update;\nvar choose = ActionTypes.Choose;\nvar pure = ActionTypes.Pure;\n\n// CONCATENATED MODULE: ./node_modules/xstate/es/actions.js\n\n\n\n\n\nvar initEvent = /*#__PURE__*/toSCXMLEvent({\n  type: init\n});\n\nfunction getActionFunction(actionType, actionFunctionMap) {\n  return actionFunctionMap ? actionFunctionMap[actionType] || undefined : undefined;\n}\n\nfunction toActionObject(action, actionFunctionMap) {\n  var actionObject;\n\n  if (isString(action) || typeof action === 'number') {\n    var exec = getActionFunction(action, actionFunctionMap);\n\n    if (isFunction(exec)) {\n      actionObject = {\n        type: action,\n        exec: exec\n      };\n    } else if (exec) {\n      actionObject = exec;\n    } else {\n      actionObject = {\n        type: action,\n        exec: undefined\n      };\n    }\n  } else if (isFunction(action)) {\n    actionObject = {\n      // Convert action to string if unnamed\n      type: action.name || action.toString(),\n      exec: action\n    };\n  } else {\n    var exec = getActionFunction(action.type, actionFunctionMap);\n\n    if (isFunction(exec)) {\n      actionObject = _assign(_assign({}, action), {\n        exec: exec\n      });\n    } else if (exec) {\n      var actionType = exec.type || action.type;\n      actionObject = _assign(_assign(_assign({}, exec), action), {\n        type: actionType\n      });\n    } else {\n      actionObject = action;\n    }\n  }\n\n  Object.defineProperty(actionObject, 'toString', {\n    value: function value() {\n      return actionObject.type;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return actionObject;\n}\n\nvar actions_toActionObjects = function toActionObjects(action, actionFunctionMap) {\n  if (!action) {\n    return [];\n  }\n\n  var actions = isArray(action) ? action : [action];\n  return actions.map(function (subAction) {\n    return toActionObject(subAction, actionFunctionMap);\n  });\n};\n\nfunction toActivityDefinition(action) {\n  var actionObject = toActionObject(action);\n  return _assign(_assign({\n    id: isString(action) ? action : actionObject.id\n  }, actionObject), {\n    type: actionObject.type\n  });\n}\n/**\r\n * Raises an event. This places the event in the internal event queue, so that\r\n * the event is immediately consumed by the machine in the current step.\r\n *\r\n * @param eventType The event to raise.\r\n */\n\n\nfunction actions_raise(event) {\n  if (!isString(event)) {\n    return actions_send(event, {\n      to: SpecialTargets.Internal\n    });\n  }\n\n  return {\n    type: raise,\n    event: event\n  };\n}\n\nfunction resolveRaise(action) {\n  return {\n    type: raise,\n    _event: toSCXMLEvent(action.event)\n  };\n}\n/**\r\n * Sends an event. This returns an action that will be read by an interpreter to\r\n * send the event in the next step, after the current step is finished executing.\r\n *\r\n * @param event The event to send.\r\n * @param options Options to pass into the send event:\r\n *  - `id` - The unique send event identifier (used with `cancel()`).\r\n *  - `delay` - The number of milliseconds to delay the sending of the event.\r\n *  - `to` - The target of this event (by default, the machine the event was sent from).\r\n */\n\n\nfunction actions_send(event, options) {\n  return {\n    to: options ? options.to : undefined,\n    type: send,\n    event: isFunction(event) ? event : toEventObject(event),\n    delay: options ? options.delay : undefined,\n    id: options && options.id !== undefined ? options.id : isFunction(event) ? event.name : getEventType(event)\n  };\n}\n\nfunction resolveSend(action, ctx, _event, delaysMap) {\n  var meta = {\n    _event: _event\n  }; // TODO: helper function for resolving Expr\n\n  var resolvedEvent = toSCXMLEvent(isFunction(action.event) ? action.event(ctx, _event.data, meta) : action.event);\n  var resolvedDelay;\n\n  if (isString(action.delay)) {\n    var configDelay = delaysMap && delaysMap[action.delay];\n    resolvedDelay = isFunction(configDelay) ? configDelay(ctx, _event.data, meta) : configDelay;\n  } else {\n    resolvedDelay = isFunction(action.delay) ? action.delay(ctx, _event.data, meta) : action.delay;\n  }\n\n  var resolvedTarget = isFunction(action.to) ? action.to(ctx, _event.data, meta) : action.to;\n  return _assign(_assign({}, action), {\n    to: resolvedTarget,\n    _event: resolvedEvent,\n    event: resolvedEvent.data,\n    delay: resolvedDelay\n  });\n}\n/**\r\n * Sends an event to this machine's parent.\r\n *\r\n * @param event The event to send to the parent machine.\r\n * @param options Options to pass into the send event.\r\n */\n\n\nfunction sendParent(event, options) {\n  return actions_send(event, _assign(_assign({}, options), {\n    to: SpecialTargets.Parent\n  }));\n}\n/**\r\n * Sends an update event to this machine's parent.\r\n */\n\n\nfunction sendUpdate() {\n  return sendParent(update);\n}\n/**\r\n * Sends an event back to the sender of the original event.\r\n *\r\n * @param event The event to send back to the sender\r\n * @param options Options to pass into the send event\r\n */\n\n\nfunction respond(event, options) {\n  return actions_send(event, _assign(_assign({}, options), {\n    to: function to(_, __, _a) {\n      var _event = _a._event;\n      return _event.origin; // TODO: handle when _event.origin is undefined\n    }\n  }));\n}\n\nvar defaultLogExpr = function defaultLogExpr(context, event) {\n  return {\n    context: context,\n    event: event\n  };\n};\n/**\r\n *\r\n * @param expr The expression function to evaluate which will be logged.\r\n *  Takes in 2 arguments:\r\n *  - `ctx` - the current state context\r\n *  - `event` - the event that caused this action to be executed.\r\n * @param label The label to give to the logged expression.\r\n */\n\n\nfunction actions_log(expr, label) {\n  if (expr === void 0) {\n    expr = defaultLogExpr;\n  }\n\n  return {\n    type: log,\n    label: label,\n    expr: expr\n  };\n}\n\nvar actions_resolveLog = function resolveLog(action, ctx, _event) {\n  return _assign(_assign({}, action), {\n    value: isString(action.expr) ? action.expr : action.expr(ctx, _event.data, {\n      _event: _event\n    })\n  });\n};\n/**\r\n * Cancels an in-flight `send(...)` action. A canceled sent action will not\r\n * be executed, nor will its event be sent, unless it has already been sent\r\n * (e.g., if `cancel(...)` is called after the `send(...)` action's `delay`).\r\n *\r\n * @param sendId The `id` of the `send(...)` action to cancel.\r\n */\n\n\nvar actions_cancel = function cancel(sendId) {\n  return {\n    type: actionTypes_cancel,\n    sendId: sendId\n  };\n};\n/**\r\n * Starts an activity.\r\n *\r\n * @param activity The activity to start.\r\n */\n\n\nfunction actions_start(activity) {\n  var activityDef = toActivityDefinition(activity);\n  return {\n    type: ActionTypes.Start,\n    activity: activityDef,\n    exec: undefined\n  };\n}\n/**\r\n * Stops an activity.\r\n *\r\n * @param activity The activity to stop.\r\n */\n\n\nfunction actions_stop(activity) {\n  var activityDef = toActivityDefinition(activity);\n  return {\n    type: ActionTypes.Stop,\n    activity: activityDef,\n    exec: undefined\n  };\n}\n/**\r\n * Updates the current context of the machine.\r\n *\r\n * @param assignment An object that represents the partial context to update.\r\n */\n\n\nvar actions_assign = function assign(assignment) {\n  return {\n    type: actionTypes_assign,\n    assignment: assignment\n  };\n};\n/**\r\n * Returns an event type that represents an implicit event that\r\n * is sent after the specified `delay`.\r\n *\r\n * @param delayRef The delay in milliseconds\r\n * @param id The state node ID where this event is handled\r\n */\n\n\nfunction actions_after(delayRef, id) {\n  var idSuffix = id ? \"#\" + id : '';\n  return ActionTypes.After + \"(\" + delayRef + \")\" + idSuffix;\n}\n/**\r\n * Returns an event that represents that a final state node\r\n * has been reached in the parent state node.\r\n *\r\n * @param id The final state node's parent state node `id`\r\n * @param data The data to pass into the event\r\n */\n\n\nfunction done(id, data) {\n  var type = ActionTypes.DoneState + \".\" + id;\n  var eventObject = {\n    type: type,\n    data: data\n  };\n\n  eventObject.toString = function () {\n    return type;\n  };\n\n  return eventObject;\n}\n/**\r\n * Returns an event that represents that an invoked service has terminated.\r\n *\r\n * An invoked service is terminated when it has reached a top-level final state node,\r\n * but not when it is canceled.\r\n *\r\n * @param id The final state node ID\r\n * @param data The data to pass into the event\r\n */\n\n\nfunction doneInvoke(id, data) {\n  var type = ActionTypes.DoneInvoke + \".\" + id;\n  var eventObject = {\n    type: type,\n    data: data\n  };\n\n  eventObject.toString = function () {\n    return type;\n  };\n\n  return eventObject;\n}\n\nfunction actions_error(id, data) {\n  var type = ActionTypes.ErrorPlatform + \".\" + id;\n  var eventObject = {\n    type: type,\n    data: data\n  };\n\n  eventObject.toString = function () {\n    return type;\n  };\n\n  return eventObject;\n}\n\nfunction actions_pure(getActions) {\n  return {\n    type: ActionTypes.Pure,\n    get: getActions\n  };\n}\n/**\r\n * Forwards (sends) an event to a specified service.\r\n *\r\n * @param target The target service to forward the event to.\r\n * @param options Options to pass into the send action creator.\r\n */\n\n\nfunction forwardTo(target, options) {\n  return actions_send(function (_, event) {\n    return event;\n  }, _assign(_assign({}, options), {\n    to: target\n  }));\n}\n/**\r\n * Escalates an error by sending it as an event to this machine's parent.\r\n *\r\n * @param errorData The error data to send, or the expression function that\r\n * takes in the `context`, `event`, and `meta`, and returns the error data to send.\r\n * @param options Options to pass into the send action creator.\r\n */\n\n\nfunction escalate(errorData, options) {\n  return sendParent(function (context, event, meta) {\n    return {\n      type: error,\n      data: isFunction(errorData) ? errorData(context, event, meta) : errorData\n    };\n  }, _assign(_assign({}, options), {\n    to: SpecialTargets.Parent\n  }));\n}\n\nfunction actions_choose(conds) {\n  return {\n    type: ActionTypes.Choose,\n    conds: conds\n  };\n}\n\nfunction resolveActions(machine, currentState, currentContext, _event, actions) {\n  var _a = __read(partition(actions, function (action) {\n    return action.type === actionTypes_assign;\n  }), 2),\n      assignActions = _a[0],\n      otherActions = _a[1];\n\n  var updatedContext = assignActions.length ? updateContext(currentContext, _event, assignActions, currentState) : currentContext;\n  var resolvedActions = flatten(otherActions.map(function (actionObject) {\n    var _a;\n\n    switch (actionObject.type) {\n      case raise:\n        return resolveRaise(actionObject);\n\n      case send:\n        var sendAction = resolveSend(actionObject, updatedContext, _event, machine.options.delays); // TODO: fix ActionTypes.Init\n\n        if (!IS_PRODUCTION) {\n          // warn after resolving as we can create better contextual message here\n          warn(!isString(actionObject.delay) || typeof sendAction.delay === 'number', // tslint:disable-next-line:max-line-length\n          \"No delay reference for delay expression '\" + actionObject.delay + \"' was found on machine '\" + machine.id + \"'\");\n        }\n\n        return sendAction;\n\n      case log:\n        return actions_resolveLog(actionObject, updatedContext, _event);\n\n      case choose:\n        {\n          var chooseAction = actionObject;\n          var matchedActions = (_a = chooseAction.conds.find(function (condition) {\n            var guard = toGuard(condition.cond, machine.options.guards);\n            return !guard || evaluateGuard(machine, guard, updatedContext, _event, currentState);\n          })) === null || _a === void 0 ? void 0 : _a.actions;\n\n          if (!matchedActions) {\n            return [];\n          }\n\n          var resolved = resolveActions(machine, currentState, updatedContext, _event, actions_toActionObjects(toArray(matchedActions), machine.options.actions));\n          updatedContext = resolved[1];\n          return resolved[0];\n        }\n\n      case pure:\n        {\n          var matchedActions = actionObject.get(updatedContext, _event.data);\n\n          if (!matchedActions) {\n            return [];\n          }\n\n          var resolved = resolveActions(machine, currentState, updatedContext, _event, actions_toActionObjects(toArray(matchedActions), machine.options.actions));\n          updatedContext = resolved[1];\n          return resolved[0];\n        }\n\n      default:\n        return toActionObject(actionObject, machine.options.actions);\n    }\n  }));\n  return [resolvedActions, updatedContext];\n}\n\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ _objectSpread2; });\n\n// CONCATENATED MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n// CONCATENATED MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\n\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n/***/ })\n]]);","inputSourceMap":{"version":3,"sources":["/Users/aggzagoura/react-xstate-colourchanger/node_modules/xstate/es/_virtual/_tslib.js","/Users/aggzagoura/react-xstate-colourchanger/node_modules/xstate/es/environment.js","/Users/aggzagoura/react-xstate-colourchanger/node_modules/xstate/es/constants.js","/Users/aggzagoura/react-xstate-colourchanger/node_modules/xstate/es/utils.js","/Users/aggzagoura/react-xstate-colourchanger/node_modules/xstate/es/types.js","/Users/aggzagoura/react-xstate-colourchanger/node_modules/xstate/es/actionTypes.js","/Users/aggzagoura/react-xstate-colourchanger/node_modules/xstate/es/actions.js","/Users/aggzagoura/react-xstate-colourchanger/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","/Users/aggzagoura/react-xstate-colourchanger/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__values","o","m","Symbol","iterator","next","value","done","__read","r","ar","push","error","__spread","concat","IS_PRODUCTION","process","STATE_DELIMITER","EMPTY_ACTIVITY_MAP","DEFAULT_GUARD_TYPE","TARGETLESS_KEY","keys","matchesState","parentStateId","childStateId","delimiter","parentStateValue","toStateValue","childStateValue","isString","every","key","getEventType","event","type","Error","toStatePath","stateId","isArray","toString","split","isStateLike","state","stateValue","pathToStateValue","statePath","marker","mapValues","collection","iteratee","result","collectionKeys","mapFilterValues","predicate","e_1","_a","_b","_c","item","e_1_1","return","path","props","object","e_2","props_1","props_1_1","prop","e_2_1","nestedPath","accessorProp","e_3","props_2","props_2_1","e_3_1","toStatePaths","flatten","map","subStateValue","subPath","array","toArrayStrict","toArray","undefined","mapContext","mapper","context","_event","e_5","isFunction","data","subMapper","e_5_1","isBuiltInEvent","eventType","test","isPromiseLike","Promise","then","partition","items","e_6","truthy","falsy","items_1","items_1_1","e_6_1","updateHistoryStates","hist","states","subHist","current","updateHistoryValue","updateContext","assignActions","warn","updatedContext","reduce","acc","assignAction","e_7","assignment","meta","action","partialUpdate","propAssignment","e_7_1","condition","message","console","args","Array","toGuard","guardMap","name","isObservable","subscribe","symbolObservable","observable","isMachine","uniqueId","currentId","toEventObject","payload","toSCXMLEvent","scxmlEvent","$$type","eventObject","toTransitionConfigArray","configLike","transitions","transitionLike","target","normalizeTarget","reportUnhandledExceptionOnInvocation","originalError","currentError","id","originalStackTrace","stack","stackTrace","evaluateGuard","machine","guard","guards","options","guardMeta","cond","condFn","toInvokeSource","src","ActionTypes","SpecialTargets","start","Start","stop","Stop","raise","Raise","send","Send","cancel","Cancel","nullEvent","NullEvent","Assign","after","After","doneState","DoneState","log","Log","init","Init","invoke","Invoke","errorExecution","ErrorExecution","errorPlatform","ErrorPlatform","ErrorCustom","update","Update","choose","Choose","pure","Pure","initEvent","getActionFunction","actionType","actionFunctionMap","toActionObject","actionObject","exec","defineProperty","enumerable","configurable","toActionObjects","actions","subAction","toActivityDefinition","to","Internal","raise$1","resolveRaise","send$1","delay","resolveSend","ctx","delaysMap","resolvedEvent","resolvedDelay","configDelay","resolvedTarget","sendParent","Parent","sendUpdate","respond","_","__","origin","defaultLogExpr","expr","label","log$1","resolveLog","sendId","cancel$1","activity","activityDef","assign$1","delayRef","idSuffix","doneInvoke","DoneInvoke","getActions","get","forwardTo","escalate","errorData","error$1","conds","resolveActions","currentState","currentContext","otherActions","resolvedActions","sendAction","delays","choose$1","chooseAction","matchedActions","find","resolved","pure$1"],"mappings":"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","file":"x","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\n\nfunction __values(o) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n      i = 0;\n  if (m) return m.call(o);\n  return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n}\n\nfunction __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\n\nfunction __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n\n  return ar;\n}\n\nexport { __assign, __read, __rest, __spread, __values };","var IS_PRODUCTION = process.env.NODE_ENV === 'production';\nexport { IS_PRODUCTION };","var STATE_DELIMITER = '.';\nvar EMPTY_ACTIVITY_MAP = {};\nvar DEFAULT_GUARD_TYPE = 'xstate.guard';\nvar TARGETLESS_KEY = '';\nexport { DEFAULT_GUARD_TYPE, EMPTY_ACTIVITY_MAP, STATE_DELIMITER, TARGETLESS_KEY };","import { __spread, __values, __read, __assign } from './_virtual/_tslib.js';\nimport { DEFAULT_GUARD_TYPE, TARGETLESS_KEY, STATE_DELIMITER } from './constants.js';\nimport { IS_PRODUCTION } from './environment.js';\n\nfunction keys(value) {\n  return Object.keys(value);\n}\n\nfunction matchesState(parentStateId, childStateId, delimiter) {\n  if (delimiter === void 0) {\n    delimiter = STATE_DELIMITER;\n  }\n\n  var parentStateValue = toStateValue(parentStateId, delimiter);\n  var childStateValue = toStateValue(childStateId, delimiter);\n\n  if (isString(childStateValue)) {\n    if (isString(parentStateValue)) {\n      return childStateValue === parentStateValue;\n    } // Parent more specific than child\n\n\n    return false;\n  }\n\n  if (isString(parentStateValue)) {\n    return parentStateValue in childStateValue;\n  }\n\n  return keys(parentStateValue).every(function (key) {\n    if (!(key in childStateValue)) {\n      return false;\n    }\n\n    return matchesState(parentStateValue[key], childStateValue[key]);\n  });\n}\n\nfunction getEventType(event) {\n  try {\n    return isString(event) || typeof event === 'number' ? \"\" + event : event.type;\n  } catch (e) {\n    throw new Error('Events must be strings or objects with a string event.type property.');\n  }\n}\n\nfunction toStatePath(stateId, delimiter) {\n  try {\n    if (isArray(stateId)) {\n      return stateId;\n    }\n\n    return stateId.toString().split(delimiter);\n  } catch (e) {\n    throw new Error(\"'\" + stateId + \"' is not a valid state path.\");\n  }\n}\n\nfunction isStateLike(state) {\n  return typeof state === 'object' && 'value' in state && 'context' in state && 'event' in state && '_event' in state;\n}\n\nfunction toStateValue(stateValue, delimiter) {\n  if (isStateLike(stateValue)) {\n    return stateValue.value;\n  }\n\n  if (isArray(stateValue)) {\n    return pathToStateValue(stateValue);\n  }\n\n  if (typeof stateValue !== 'string') {\n    return stateValue;\n  }\n\n  var statePath = toStatePath(stateValue, delimiter);\n  return pathToStateValue(statePath);\n}\n\nfunction pathToStateValue(statePath) {\n  if (statePath.length === 1) {\n    return statePath[0];\n  }\n\n  var value = {};\n  var marker = value;\n\n  for (var i = 0; i < statePath.length - 1; i++) {\n    if (i === statePath.length - 2) {\n      marker[statePath[i]] = statePath[i + 1];\n    } else {\n      marker[statePath[i]] = {};\n      marker = marker[statePath[i]];\n    }\n  }\n\n  return value;\n}\n\nfunction mapValues(collection, iteratee) {\n  var result = {};\n  var collectionKeys = keys(collection);\n\n  for (var i = 0; i < collectionKeys.length; i++) {\n    var key = collectionKeys[i];\n    result[key] = iteratee(collection[key], key, collection, i);\n  }\n\n  return result;\n}\n\nfunction mapFilterValues(collection, iteratee, predicate) {\n  var e_1, _a;\n\n  var result = {};\n\n  try {\n    for (var _b = __values(keys(collection)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var key = _c.value;\n      var item = collection[key];\n\n      if (!predicate(item)) {\n        continue;\n      }\n\n      result[key] = iteratee(item, key, collection);\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  return result;\n}\n/**\r\n * Retrieves a value at the given path.\r\n * @param props The deep path to the prop of the desired value\r\n */\n\n\nvar path = function (props) {\n  return function (object) {\n    var e_2, _a;\n\n    var result = object;\n\n    try {\n      for (var props_1 = __values(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()) {\n        var prop = props_1_1.value;\n        result = result[prop];\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (props_1_1 && !props_1_1.done && (_a = props_1.return)) _a.call(props_1);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n\n    return result;\n  };\n};\n/**\r\n * Retrieves a value at the given path via the nested accessor prop.\r\n * @param props The deep path to the prop of the desired value\r\n */\n\n\nfunction nestedPath(props, accessorProp) {\n  return function (object) {\n    var e_3, _a;\n\n    var result = object;\n\n    try {\n      for (var props_2 = __values(props), props_2_1 = props_2.next(); !props_2_1.done; props_2_1 = props_2.next()) {\n        var prop = props_2_1.value;\n        result = result[accessorProp][prop];\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (props_2_1 && !props_2_1.done && (_a = props_2.return)) _a.call(props_2);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    return result;\n  };\n}\n\nfunction toStatePaths(stateValue) {\n  if (!stateValue) {\n    return [[]];\n  }\n\n  if (isString(stateValue)) {\n    return [[stateValue]];\n  }\n\n  var result = flatten(keys(stateValue).map(function (key) {\n    var subStateValue = stateValue[key];\n\n    if (typeof subStateValue !== 'string' && (!subStateValue || !Object.keys(subStateValue).length)) {\n      return [[key]];\n    }\n\n    return toStatePaths(stateValue[key]).map(function (subPath) {\n      return [key].concat(subPath);\n    });\n  }));\n  return result;\n}\n\nfunction flatten(array) {\n  var _a;\n\n  return (_a = []).concat.apply(_a, __spread(array));\n}\n\nfunction toArrayStrict(value) {\n  if (isArray(value)) {\n    return value;\n  }\n\n  return [value];\n}\n\nfunction toArray(value) {\n  if (value === undefined) {\n    return [];\n  }\n\n  return toArrayStrict(value);\n}\n\nfunction mapContext(mapper, context, _event) {\n  var e_5, _a;\n\n  if (isFunction(mapper)) {\n    return mapper(context, _event.data);\n  }\n\n  var result = {};\n\n  try {\n    for (var _b = __values(Object.keys(mapper)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var key = _c.value;\n      var subMapper = mapper[key];\n\n      if (isFunction(subMapper)) {\n        result[key] = subMapper(context, _event.data);\n      } else {\n        result[key] = subMapper;\n      }\n    }\n  } catch (e_5_1) {\n    e_5 = {\n      error: e_5_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_5) throw e_5.error;\n    }\n  }\n\n  return result;\n}\n\nfunction isBuiltInEvent(eventType) {\n  return /^(done|error)\\./.test(eventType);\n}\n\nfunction isPromiseLike(value) {\n  if (value instanceof Promise) {\n    return true;\n  } // Check if shape matches the Promise/A+ specification for a \"thenable\".\n\n\n  if (value !== null && (isFunction(value) || typeof value === 'object') && isFunction(value.then)) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction partition(items, predicate) {\n  var e_6, _a;\n\n  var _b = __read([[], []], 2),\n      truthy = _b[0],\n      falsy = _b[1];\n\n  try {\n    for (var items_1 = __values(items), items_1_1 = items_1.next(); !items_1_1.done; items_1_1 = items_1.next()) {\n      var item = items_1_1.value;\n\n      if (predicate(item)) {\n        truthy.push(item);\n      } else {\n        falsy.push(item);\n      }\n    }\n  } catch (e_6_1) {\n    e_6 = {\n      error: e_6_1\n    };\n  } finally {\n    try {\n      if (items_1_1 && !items_1_1.done && (_a = items_1.return)) _a.call(items_1);\n    } finally {\n      if (e_6) throw e_6.error;\n    }\n  }\n\n  return [truthy, falsy];\n}\n\nfunction updateHistoryStates(hist, stateValue) {\n  return mapValues(hist.states, function (subHist, key) {\n    if (!subHist) {\n      return undefined;\n    }\n\n    var subStateValue = (isString(stateValue) ? undefined : stateValue[key]) || (subHist ? subHist.current : undefined);\n\n    if (!subStateValue) {\n      return undefined;\n    }\n\n    return {\n      current: subStateValue,\n      states: updateHistoryStates(subHist, subStateValue)\n    };\n  });\n}\n\nfunction updateHistoryValue(hist, stateValue) {\n  return {\n    current: stateValue,\n    states: updateHistoryStates(hist, stateValue)\n  };\n}\n\nfunction updateContext(context, _event, assignActions, state) {\n  if (!IS_PRODUCTION) {\n    warn(!!context, 'Attempting to update undefined context');\n  }\n\n  var updatedContext = context ? assignActions.reduce(function (acc, assignAction) {\n    var e_7, _a;\n\n    var assignment = assignAction.assignment;\n    var meta = {\n      state: state,\n      action: assignAction,\n      _event: _event\n    };\n    var partialUpdate = {};\n\n    if (isFunction(assignment)) {\n      partialUpdate = assignment(acc, _event.data, meta);\n    } else {\n      try {\n        for (var _b = __values(keys(assignment)), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var key = _c.value;\n          var propAssignment = assignment[key];\n          partialUpdate[key] = isFunction(propAssignment) ? propAssignment(acc, _event.data, meta) : propAssignment;\n        }\n      } catch (e_7_1) {\n        e_7 = {\n          error: e_7_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_7) throw e_7.error;\n        }\n      }\n    }\n\n    return Object.assign({}, acc, partialUpdate);\n  }, context) : context;\n  return updatedContext;\n} // tslint:disable-next-line:no-empty\n\n\nvar warn = function () {};\n\nif (!IS_PRODUCTION) {\n  warn = function (condition, message) {\n    var error = condition instanceof Error ? condition : undefined;\n\n    if (!error && condition) {\n      return;\n    }\n\n    if (console !== undefined) {\n      var args = [\"Warning: \" + message];\n\n      if (error) {\n        args.push(error);\n      } // tslint:disable-next-line:no-console\n\n\n      console.warn.apply(console, args);\n    }\n  };\n}\n\nfunction isArray(value) {\n  return Array.isArray(value);\n} // tslint:disable-next-line:ban-types\n\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n\nfunction isString(value) {\n  return typeof value === 'string';\n} // export function memoizedGetter<T, TP extends { prototype: object }>(\n//   o: TP,\n//   property: string,\n//   getter: () => T\n// ): void {\n//   Object.defineProperty(o.prototype, property, {\n//     get: getter,\n//     enumerable: false,\n//     configurable: false\n//   });\n// }\n\n\nfunction toGuard(condition, guardMap) {\n  if (!condition) {\n    return undefined;\n  }\n\n  if (isString(condition)) {\n    return {\n      type: DEFAULT_GUARD_TYPE,\n      name: condition,\n      predicate: guardMap ? guardMap[condition] : undefined\n    };\n  }\n\n  if (isFunction(condition)) {\n    return {\n      type: DEFAULT_GUARD_TYPE,\n      name: condition.name,\n      predicate: condition\n    };\n  }\n\n  return condition;\n}\n\nfunction isObservable(value) {\n  try {\n    return 'subscribe' in value && isFunction(value.subscribe);\n  } catch (e) {\n    return false;\n  }\n}\n\nvar symbolObservable = /*#__PURE__*/function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n}();\n\nfunction isMachine(value) {\n  try {\n    return '__xstatenode' in value;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar uniqueId = /*#__PURE__*/function () {\n  var currentId = 0;\n  return function () {\n    currentId++;\n    return currentId.toString(16);\n  };\n}();\n\nfunction toEventObject(event, payload // id?: TEvent['type']\n) {\n  if (isString(event) || typeof event === 'number') {\n    return __assign({\n      type: event\n    }, payload);\n  }\n\n  return event;\n}\n\nfunction toSCXMLEvent(event, scxmlEvent) {\n  if (!isString(event) && '$$type' in event && event.$$type === 'scxml') {\n    return event;\n  }\n\n  var eventObject = toEventObject(event);\n  return __assign({\n    name: eventObject.type,\n    data: eventObject,\n    $$type: 'scxml',\n    type: 'external'\n  }, scxmlEvent);\n}\n\nfunction toTransitionConfigArray(event, configLike) {\n  var transitions = toArrayStrict(configLike).map(function (transitionLike) {\n    if (typeof transitionLike === 'undefined' || typeof transitionLike === 'string' || isMachine(transitionLike)) {\n      return {\n        target: transitionLike,\n        event: event\n      };\n    }\n\n    return __assign(__assign({}, transitionLike), {\n      event: event\n    });\n  });\n  return transitions;\n}\n\nfunction normalizeTarget(target) {\n  if (target === undefined || target === TARGETLESS_KEY) {\n    return undefined;\n  }\n\n  return toArray(target);\n}\n\nfunction reportUnhandledExceptionOnInvocation(originalError, currentError, id) {\n  if (!IS_PRODUCTION) {\n    var originalStackTrace = originalError.stack ? \" Stacktrace was '\" + originalError.stack + \"'\" : '';\n\n    if (originalError === currentError) {\n      // tslint:disable-next-line:no-console\n      console.error(\"Missing onError handler for invocation '\" + id + \"', error was '\" + originalError + \"'.\" + originalStackTrace);\n    } else {\n      var stackTrace = currentError.stack ? \" Stacktrace was '\" + currentError.stack + \"'\" : ''; // tslint:disable-next-line:no-console\n\n      console.error(\"Missing onError handler and/or unhandled exception/promise rejection for invocation '\" + id + \"'. \" + (\"Original error: '\" + originalError + \"'. \" + originalStackTrace + \" Current error is '\" + currentError + \"'.\" + stackTrace));\n    }\n  }\n}\n\nfunction evaluateGuard(machine, guard, context, _event, state) {\n  var guards = machine.options.guards;\n  var guardMeta = {\n    state: state,\n    cond: guard,\n    _event: _event\n  }; // TODO: do not hardcode!\n\n  if (guard.type === DEFAULT_GUARD_TYPE) {\n    return guard.predicate(context, _event.data, guardMeta);\n  }\n\n  var condFn = guards[guard.type];\n\n  if (!condFn) {\n    throw new Error(\"Guard '\" + guard.type + \"' is not implemented on machine '\" + machine.id + \"'.\");\n  }\n\n  return condFn(context, _event.data, guardMeta);\n}\n\nfunction toInvokeSource(src) {\n  if (typeof src === 'string') {\n    return {\n      type: src\n    };\n  }\n\n  return src;\n}\n\nexport { evaluateGuard, flatten, getEventType, isArray, isBuiltInEvent, isFunction, isMachine, isObservable, isPromiseLike, isStateLike, isString, keys, mapContext, mapFilterValues, mapValues, matchesState, nestedPath, normalizeTarget, partition, path, pathToStateValue, reportUnhandledExceptionOnInvocation, symbolObservable, toArray, toArrayStrict, toEventObject, toGuard, toInvokeSource, toSCXMLEvent, toStatePath, toStatePaths, toStateValue, toTransitionConfigArray, uniqueId, updateContext, updateHistoryStates, updateHistoryValue, warn };","var ActionTypes;\n\n(function (ActionTypes) {\n  ActionTypes[\"Start\"] = \"xstate.start\";\n  ActionTypes[\"Stop\"] = \"xstate.stop\";\n  ActionTypes[\"Raise\"] = \"xstate.raise\";\n  ActionTypes[\"Send\"] = \"xstate.send\";\n  ActionTypes[\"Cancel\"] = \"xstate.cancel\";\n  ActionTypes[\"NullEvent\"] = \"\";\n  ActionTypes[\"Assign\"] = \"xstate.assign\";\n  ActionTypes[\"After\"] = \"xstate.after\";\n  ActionTypes[\"DoneState\"] = \"done.state\";\n  ActionTypes[\"DoneInvoke\"] = \"done.invoke\";\n  ActionTypes[\"Log\"] = \"xstate.log\";\n  ActionTypes[\"Init\"] = \"xstate.init\";\n  ActionTypes[\"Invoke\"] = \"xstate.invoke\";\n  ActionTypes[\"ErrorExecution\"] = \"error.execution\";\n  ActionTypes[\"ErrorCommunication\"] = \"error.communication\";\n  ActionTypes[\"ErrorPlatform\"] = \"error.platform\";\n  ActionTypes[\"ErrorCustom\"] = \"xstate.error\";\n  ActionTypes[\"Update\"] = \"xstate.update\";\n  ActionTypes[\"Pure\"] = \"xstate.pure\";\n  ActionTypes[\"Choose\"] = \"xstate.choose\";\n})(ActionTypes || (ActionTypes = {}));\n\nvar SpecialTargets;\n\n(function (SpecialTargets) {\n  SpecialTargets[\"Parent\"] = \"#_parent\";\n  SpecialTargets[\"Internal\"] = \"#_internal\";\n})(SpecialTargets || (SpecialTargets = {}));\n\nexport { ActionTypes, SpecialTargets };","import { ActionTypes } from './types.js'; // xstate-specific action types\n\nvar start = ActionTypes.Start;\nvar stop = ActionTypes.Stop;\nvar raise = ActionTypes.Raise;\nvar send = ActionTypes.Send;\nvar cancel = ActionTypes.Cancel;\nvar nullEvent = ActionTypes.NullEvent;\nvar assign = ActionTypes.Assign;\nvar after = ActionTypes.After;\nvar doneState = ActionTypes.DoneState;\nvar log = ActionTypes.Log;\nvar init = ActionTypes.Init;\nvar invoke = ActionTypes.Invoke;\nvar errorExecution = ActionTypes.ErrorExecution;\nvar errorPlatform = ActionTypes.ErrorPlatform;\nvar error = ActionTypes.ErrorCustom;\nvar update = ActionTypes.Update;\nvar choose = ActionTypes.Choose;\nvar pure = ActionTypes.Pure;\nexport { after, assign, cancel, choose, doneState, error, errorExecution, errorPlatform, init, invoke, log, nullEvent, pure, raise, send, start, stop, update };","import { __assign, __read } from './_virtual/_tslib.js';\nimport { IS_PRODUCTION } from './environment.js';\nimport { toSCXMLEvent, isFunction, toEventObject, getEventType, isString, partition, updateContext, flatten, toArray, toGuard, evaluateGuard, warn, isArray } from './utils.js';\nimport { SpecialTargets, ActionTypes } from './types.js';\nimport { send as send$1, update, assign as assign$1, init, raise as raise$1, log as log$1, cancel as cancel$1, error as error$1, pure as pure$1, choose as choose$1 } from './actionTypes.js';\nvar initEvent = /*#__PURE__*/toSCXMLEvent({\n  type: init\n});\n\nfunction getActionFunction(actionType, actionFunctionMap) {\n  return actionFunctionMap ? actionFunctionMap[actionType] || undefined : undefined;\n}\n\nfunction toActionObject(action, actionFunctionMap) {\n  var actionObject;\n\n  if (isString(action) || typeof action === 'number') {\n    var exec = getActionFunction(action, actionFunctionMap);\n\n    if (isFunction(exec)) {\n      actionObject = {\n        type: action,\n        exec: exec\n      };\n    } else if (exec) {\n      actionObject = exec;\n    } else {\n      actionObject = {\n        type: action,\n        exec: undefined\n      };\n    }\n  } else if (isFunction(action)) {\n    actionObject = {\n      // Convert action to string if unnamed\n      type: action.name || action.toString(),\n      exec: action\n    };\n  } else {\n    var exec = getActionFunction(action.type, actionFunctionMap);\n\n    if (isFunction(exec)) {\n      actionObject = __assign(__assign({}, action), {\n        exec: exec\n      });\n    } else if (exec) {\n      var actionType = exec.type || action.type;\n      actionObject = __assign(__assign(__assign({}, exec), action), {\n        type: actionType\n      });\n    } else {\n      actionObject = action;\n    }\n  }\n\n  Object.defineProperty(actionObject, 'toString', {\n    value: function () {\n      return actionObject.type;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return actionObject;\n}\n\nvar toActionObjects = function (action, actionFunctionMap) {\n  if (!action) {\n    return [];\n  }\n\n  var actions = isArray(action) ? action : [action];\n  return actions.map(function (subAction) {\n    return toActionObject(subAction, actionFunctionMap);\n  });\n};\n\nfunction toActivityDefinition(action) {\n  var actionObject = toActionObject(action);\n  return __assign(__assign({\n    id: isString(action) ? action : actionObject.id\n  }, actionObject), {\n    type: actionObject.type\n  });\n}\n/**\r\n * Raises an event. This places the event in the internal event queue, so that\r\n * the event is immediately consumed by the machine in the current step.\r\n *\r\n * @param eventType The event to raise.\r\n */\n\n\nfunction raise(event) {\n  if (!isString(event)) {\n    return send(event, {\n      to: SpecialTargets.Internal\n    });\n  }\n\n  return {\n    type: raise$1,\n    event: event\n  };\n}\n\nfunction resolveRaise(action) {\n  return {\n    type: raise$1,\n    _event: toSCXMLEvent(action.event)\n  };\n}\n/**\r\n * Sends an event. This returns an action that will be read by an interpreter to\r\n * send the event in the next step, after the current step is finished executing.\r\n *\r\n * @param event The event to send.\r\n * @param options Options to pass into the send event:\r\n *  - `id` - The unique send event identifier (used with `cancel()`).\r\n *  - `delay` - The number of milliseconds to delay the sending of the event.\r\n *  - `to` - The target of this event (by default, the machine the event was sent from).\r\n */\n\n\nfunction send(event, options) {\n  return {\n    to: options ? options.to : undefined,\n    type: send$1,\n    event: isFunction(event) ? event : toEventObject(event),\n    delay: options ? options.delay : undefined,\n    id: options && options.id !== undefined ? options.id : isFunction(event) ? event.name : getEventType(event)\n  };\n}\n\nfunction resolveSend(action, ctx, _event, delaysMap) {\n  var meta = {\n    _event: _event\n  }; // TODO: helper function for resolving Expr\n\n  var resolvedEvent = toSCXMLEvent(isFunction(action.event) ? action.event(ctx, _event.data, meta) : action.event);\n  var resolvedDelay;\n\n  if (isString(action.delay)) {\n    var configDelay = delaysMap && delaysMap[action.delay];\n    resolvedDelay = isFunction(configDelay) ? configDelay(ctx, _event.data, meta) : configDelay;\n  } else {\n    resolvedDelay = isFunction(action.delay) ? action.delay(ctx, _event.data, meta) : action.delay;\n  }\n\n  var resolvedTarget = isFunction(action.to) ? action.to(ctx, _event.data, meta) : action.to;\n  return __assign(__assign({}, action), {\n    to: resolvedTarget,\n    _event: resolvedEvent,\n    event: resolvedEvent.data,\n    delay: resolvedDelay\n  });\n}\n/**\r\n * Sends an event to this machine's parent.\r\n *\r\n * @param event The event to send to the parent machine.\r\n * @param options Options to pass into the send event.\r\n */\n\n\nfunction sendParent(event, options) {\n  return send(event, __assign(__assign({}, options), {\n    to: SpecialTargets.Parent\n  }));\n}\n/**\r\n * Sends an update event to this machine's parent.\r\n */\n\n\nfunction sendUpdate() {\n  return sendParent(update);\n}\n/**\r\n * Sends an event back to the sender of the original event.\r\n *\r\n * @param event The event to send back to the sender\r\n * @param options Options to pass into the send event\r\n */\n\n\nfunction respond(event, options) {\n  return send(event, __assign(__assign({}, options), {\n    to: function (_, __, _a) {\n      var _event = _a._event;\n      return _event.origin; // TODO: handle when _event.origin is undefined\n    }\n  }));\n}\n\nvar defaultLogExpr = function (context, event) {\n  return {\n    context: context,\n    event: event\n  };\n};\n/**\r\n *\r\n * @param expr The expression function to evaluate which will be logged.\r\n *  Takes in 2 arguments:\r\n *  - `ctx` - the current state context\r\n *  - `event` - the event that caused this action to be executed.\r\n * @param label The label to give to the logged expression.\r\n */\n\n\nfunction log(expr, label) {\n  if (expr === void 0) {\n    expr = defaultLogExpr;\n  }\n\n  return {\n    type: log$1,\n    label: label,\n    expr: expr\n  };\n}\n\nvar resolveLog = function (action, ctx, _event) {\n  return __assign(__assign({}, action), {\n    value: isString(action.expr) ? action.expr : action.expr(ctx, _event.data, {\n      _event: _event\n    })\n  });\n};\n/**\r\n * Cancels an in-flight `send(...)` action. A canceled sent action will not\r\n * be executed, nor will its event be sent, unless it has already been sent\r\n * (e.g., if `cancel(...)` is called after the `send(...)` action's `delay`).\r\n *\r\n * @param sendId The `id` of the `send(...)` action to cancel.\r\n */\n\n\nvar cancel = function (sendId) {\n  return {\n    type: cancel$1,\n    sendId: sendId\n  };\n};\n/**\r\n * Starts an activity.\r\n *\r\n * @param activity The activity to start.\r\n */\n\n\nfunction start(activity) {\n  var activityDef = toActivityDefinition(activity);\n  return {\n    type: ActionTypes.Start,\n    activity: activityDef,\n    exec: undefined\n  };\n}\n/**\r\n * Stops an activity.\r\n *\r\n * @param activity The activity to stop.\r\n */\n\n\nfunction stop(activity) {\n  var activityDef = toActivityDefinition(activity);\n  return {\n    type: ActionTypes.Stop,\n    activity: activityDef,\n    exec: undefined\n  };\n}\n/**\r\n * Updates the current context of the machine.\r\n *\r\n * @param assignment An object that represents the partial context to update.\r\n */\n\n\nvar assign = function (assignment) {\n  return {\n    type: assign$1,\n    assignment: assignment\n  };\n};\n/**\r\n * Returns an event type that represents an implicit event that\r\n * is sent after the specified `delay`.\r\n *\r\n * @param delayRef The delay in milliseconds\r\n * @param id The state node ID where this event is handled\r\n */\n\n\nfunction after(delayRef, id) {\n  var idSuffix = id ? \"#\" + id : '';\n  return ActionTypes.After + \"(\" + delayRef + \")\" + idSuffix;\n}\n/**\r\n * Returns an event that represents that a final state node\r\n * has been reached in the parent state node.\r\n *\r\n * @param id The final state node's parent state node `id`\r\n * @param data The data to pass into the event\r\n */\n\n\nfunction done(id, data) {\n  var type = ActionTypes.DoneState + \".\" + id;\n  var eventObject = {\n    type: type,\n    data: data\n  };\n\n  eventObject.toString = function () {\n    return type;\n  };\n\n  return eventObject;\n}\n/**\r\n * Returns an event that represents that an invoked service has terminated.\r\n *\r\n * An invoked service is terminated when it has reached a top-level final state node,\r\n * but not when it is canceled.\r\n *\r\n * @param id The final state node ID\r\n * @param data The data to pass into the event\r\n */\n\n\nfunction doneInvoke(id, data) {\n  var type = ActionTypes.DoneInvoke + \".\" + id;\n  var eventObject = {\n    type: type,\n    data: data\n  };\n\n  eventObject.toString = function () {\n    return type;\n  };\n\n  return eventObject;\n}\n\nfunction error(id, data) {\n  var type = ActionTypes.ErrorPlatform + \".\" + id;\n  var eventObject = {\n    type: type,\n    data: data\n  };\n\n  eventObject.toString = function () {\n    return type;\n  };\n\n  return eventObject;\n}\n\nfunction pure(getActions) {\n  return {\n    type: ActionTypes.Pure,\n    get: getActions\n  };\n}\n/**\r\n * Forwards (sends) an event to a specified service.\r\n *\r\n * @param target The target service to forward the event to.\r\n * @param options Options to pass into the send action creator.\r\n */\n\n\nfunction forwardTo(target, options) {\n  return send(function (_, event) {\n    return event;\n  }, __assign(__assign({}, options), {\n    to: target\n  }));\n}\n/**\r\n * Escalates an error by sending it as an event to this machine's parent.\r\n *\r\n * @param errorData The error data to send, or the expression function that\r\n * takes in the `context`, `event`, and `meta`, and returns the error data to send.\r\n * @param options Options to pass into the send action creator.\r\n */\n\n\nfunction escalate(errorData, options) {\n  return sendParent(function (context, event, meta) {\n    return {\n      type: error$1,\n      data: isFunction(errorData) ? errorData(context, event, meta) : errorData\n    };\n  }, __assign(__assign({}, options), {\n    to: SpecialTargets.Parent\n  }));\n}\n\nfunction choose(conds) {\n  return {\n    type: ActionTypes.Choose,\n    conds: conds\n  };\n}\n\nfunction resolveActions(machine, currentState, currentContext, _event, actions) {\n  var _a = __read(partition(actions, function (action) {\n    return action.type === assign$1;\n  }), 2),\n      assignActions = _a[0],\n      otherActions = _a[1];\n\n  var updatedContext = assignActions.length ? updateContext(currentContext, _event, assignActions, currentState) : currentContext;\n  var resolvedActions = flatten(otherActions.map(function (actionObject) {\n    var _a;\n\n    switch (actionObject.type) {\n      case raise$1:\n        return resolveRaise(actionObject);\n\n      case send$1:\n        var sendAction = resolveSend(actionObject, updatedContext, _event, machine.options.delays); // TODO: fix ActionTypes.Init\n\n        if (!IS_PRODUCTION) {\n          // warn after resolving as we can create better contextual message here\n          warn(!isString(actionObject.delay) || typeof sendAction.delay === 'number', // tslint:disable-next-line:max-line-length\n          \"No delay reference for delay expression '\" + actionObject.delay + \"' was found on machine '\" + machine.id + \"'\");\n        }\n\n        return sendAction;\n\n      case log$1:\n        return resolveLog(actionObject, updatedContext, _event);\n\n      case choose$1:\n        {\n          var chooseAction = actionObject;\n          var matchedActions = (_a = chooseAction.conds.find(function (condition) {\n            var guard = toGuard(condition.cond, machine.options.guards);\n            return !guard || evaluateGuard(machine, guard, updatedContext, _event, currentState);\n          })) === null || _a === void 0 ? void 0 : _a.actions;\n\n          if (!matchedActions) {\n            return [];\n          }\n\n          var resolved = resolveActions(machine, currentState, updatedContext, _event, toActionObjects(toArray(matchedActions), machine.options.actions));\n          updatedContext = resolved[1];\n          return resolved[0];\n        }\n\n      case pure$1:\n        {\n          var matchedActions = actionObject.get(updatedContext, _event.data);\n\n          if (!matchedActions) {\n            return [];\n          }\n\n          var resolved = resolveActions(machine, currentState, updatedContext, _event, toActionObjects(toArray(matchedActions), machine.options.actions));\n          updatedContext = resolved[1];\n          return resolved[0];\n        }\n\n      default:\n        return toActionObject(actionObject, machine.options.actions);\n    }\n  }));\n  return [resolvedActions, updatedContext];\n}\n\nexport { after, assign, cancel, choose, done, doneInvoke, error, escalate, forwardTo, getActionFunction, initEvent, log, pure, raise, resolveActions, resolveLog, resolveRaise, resolveSend, respond, send, sendParent, sendUpdate, start, stop, toActionObject, toActionObjects, toActivityDefinition };","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}"]},"banner":"For license information please see 2.a7809ac2.chunk.js.LICENSE.txt","extractedComments":"/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n","commentsFilename":"static/js/2.a7809ac2.chunk.js.LICENSE.txt"}