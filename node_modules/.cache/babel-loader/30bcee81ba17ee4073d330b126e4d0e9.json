{"ast":null,"code":"import _objectSpread from\"/Users/aggzagoura/Downloads/react-xstate-colourchanger-master-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{send,assign,actions}from\"xstate\";import\"./styles.scss\";var cancel=actions.cancel;function say(text){return send(function(_context){return{type:\"SPEAK\",value:text};});}function listen(){return send('LISTEN');}function promptAndAsk(prompt,speechprompt){return{initial:\"prompt\",states:{prompt:{entry:say(prompt),on:{ENDSPEECH:\"ask\"}},hist:{type:\"history\"},maxspeech:_objectSpread({},speech(speechprompt)),ask:{entry:[listen(),send('MAXSPEECH',{delay:5000})]}}};}function helpm(prompt,name){return{entry:say(prompt),on:{ENDSPEECH:name+\".hist\"}};}function speech(prompt){return{entry:say(prompt),on:{ENDSPEECH:\"ask\"}};}var grammar={\"John\":{person:\"John Appleseed\"},\"Mary\":{person:\"Mary Zagoura\"},\"Nick\":{person:\"Nick Katapodis\"},\"Samantha\":{person:\"Samantha Meyers\"},\"Anna\":{person:\"Anna Heathrow\"},\"James\":{person:\"James Smith\"},\"on Friday\":{day:\"Friday\"},\"on Monday\":{day:\"Monday\"},\"on Tuesday\":{day:\"Tuesday\"},\"on Saturday\":{day:\"Saturday\"},\"at ten\":{time:\"10:00\"},\"at 10\":{time:\"10:00\"},\"at eight\":{time:\"8:00\"},\"at 8\":{time:\"8:00\"},\"at eleven\":{time:\"11:00\"},\"at 11\":{time:\"11:00\"},\"at twelve\":{time:\"12:00\"},\"at 12\":{time:\"12:00\"}};var grammar2={\"yes\":true,\"Yes\":true,\"Of course\":true,\"of course\":true,\"No\":false,\"no\":false,\"No way\":false,\"no way\":false};var commands={\"help\":\"h\",\"Help\":\"H\"};var grammar3={\"count\":0};export var dmMachine={initial:'init',states:{init:{on:{CLICK:'welcome'}},welcome:{initial:\"prompt\",on:{RECOGNISED:[{target:\"query\",cond:function cond(context){return!(context.recResult in commands);},actions:[assign(function(context){return{option:context.recResult};}),assign(function(context){grammar3[\"count\"]=0;})]},{target:\"helpA\",cond:function cond(context){return context.recResult in commands;}}],MAXSPEECH:[{target:\".maxspeech\",cond:function cond(context){return grammar3[\"count\"]<=2;},actions:assign(function(context){grammar3[\"count\"]=grammar3[\"count\"]+1;})},{target:\"#root.dm.init\",cond:function cond(context){return grammar3[\"count\"]>2;},actions:assign(function(context){grammar3[\"count\"]=0;})}]},states:{prompt:{entry:say(\"What do you want to do?\"),on:{ENDSPEECH:\"ask\"}},hist:{type:\"history\"},maxspeech:_objectSpread({},speech(\"I didn't get a respondï¼Œplease repeat\")),ask:{entry:[listen(),send('MAXSPEECH',{delay:5000})]}}},helpA:_objectSpread({},helpm(\"Please tell me what you want to do\",\"welcome\")),query:{invoke:{id:\"rasa\",src:function src(context,event){return nluRequest(context.option);},onDone:{target:\"menu\",actions:[assign(function(context,event){return{option:event.data.intent.name};}),function(context,event){return console.log(event.data);}]//actions: assign({ intent: (context: SDSContext, event: any) =>{ return event.data }})\n},onError:{target:\"welcome\",actions:function actions(context,event){return console.log(event.data);}}}},menu:{initial:\"prompt\",on:{ENDSPEECH:[{target:\"todo\",cond:function cond(context){return context.option===\"todo\";}},{target:\"timer\",cond:function cond(context){return context.option===\"timer\";}},{target:\"appointment\",cond:function cond(context){return context.option===\"appointment\";}}]},states:{prompt:{entry:send(function(context){return{type:\"SPEAK\",value:\"OK. I see\\uFF0Cyou want a \".concat(context.option,\".\")};})}/*            nomatch: {\n                    entry: say(\"Sorry, I don\"t understand\"),\n                    on: { ENDSPEECH: \"prompt\" }\n        } */}},todo:{initial:\"prompt\",on:{ENDSPEECH:\"init\"},states:{prompt:{entry:send(function(context){return{type:\"SPEAK\",value:\"Let's create a to do item\"};})}}},timer:{initial:\"prompt\",on:{ENDSPEECH:\"init\"},states:{prompt:{entry:send(function(context){return{type:\"SPEAK\",value:\"Let's create a timer\"};})}}},appointment:{initial:\"prompt\",on:{ENDSPEECH:\"who\"},states:{prompt:{entry:send(function(context){return{type:\"SPEAK\",value:\"Let's make an appointment\"};})}}},who:{initial:\"prompt\",on:{RECOGNISED:[{cond:function cond(context){return\"person\"in(grammar[context.recResult]||{});},actions:[assign(function(context){return{person:grammar[context.recResult].person};}),assign(function(context){grammar3[\"count\"]=0;}),cancel(\"maxsp\")],target:\"day\"},{target:\".nomatch\",cond:function cond(context){return!(context.recResult in commands);},actions:cancel(\"maxsp\")},{target:\"helpB\",cond:function cond(context){return context.recResult in commands;}}],MAXSPEECH:[{target:\".maxspeech\",cond:function cond(context){return grammar3[\"count\"]<=2;},actions:assign(function(context){grammar3[\"count\"]=grammar3[\"count\"]+1;})},{target:\"#root.dm.init\",cond:function cond(context){return grammar3[\"count\"]>2;},actions:assign(function(context){grammar3[\"count\"]=0;})}]},states:{prompt:{entry:say(\"Who are you meeting with?\"),on:{ENDSPEECH:\"ask\"}},hist:{type:\"history\"},ask:{entry:[listen(),send('MAXSPEECH',{delay:5000,id:\"maxsp\"})]},maxspeech:_objectSpread({},speech(\"I didn't get a respond, please tell me the person\")),nomatch:{entry:say(\"Sorry I'm not aware of this name\"),on:{ENDSPEECH:\"prompt\"}}}},helpB:_objectSpread({},helpm(\"Please tell me the name\",\"who\")),day:{initial:\"prompt\",on:{RECOGNISED:[{cond:function cond(context){return\"day\"in(grammar[context.recResult]||{});},actions:[assign(function(context){return{day:grammar[context.recResult].day};}),assign(function(context){grammar3[\"count\"]=0;}),cancel(\"maxsp\")],target:\"wholeday\"},{target:\".nomatch\",cond:function cond(context){return!(context.recResult in commands);},actions:cancel(\"maxsp\")},{target:\"helpC\",cond:function cond(context){return context.recResult in commands;}}],MAXSPEECH:[{target:\".maxspeech\",cond:function cond(context){return grammar3[\"count\"]<=2;},actions:assign(function(context){grammar3[\"count\"]=grammar3[\"count\"]+1;})},{target:\"#root.dm.init\",cond:function cond(context){return grammar3[\"count\"]>2;},actions:assign(function(context){grammar3[\"count\"]=0;})}]},states:{prompt:{entry:send(function(context){return{type:\"SPEAK\",value:\"OK. \".concat(context.person,\". On which day is your meeting?\")};}),on:{ENDSPEECH:\"ask\"}},hist:{type:\"history\"},ask:{entry:[listen(),send('MAXSPEECH',{delay:5000,id:\"maxsp\"})]},maxspeech:_objectSpread({},speech(\"I didn't get a respond, please say a day\")),nomatch:{entry:say(\"Sorry I don't recognise the day you are telling me\"),on:{ENDSPEECH:\"prompt\"}}}},helpC:_objectSpread({},helpm(\"Please tell me the day\",\"day\")),wholeday:{initial:\"prompt\",on:{RECOGNISED:[{cond:function cond(context){return grammar2[context.recResult]===true;},target:\"notime\",actions:[assign(function(context){grammar3[\"count\"]=0;}),cancel(\"maxsp\")]},{cond:function cond(context){return grammar2[context.recResult]===false;},target:\"whattime\",actions:[assign(function(context){grammar3[\"count\"]=0;}),cancel(\"maxsp\")]},{target:\".nomatch\",cond:function cond(context){return!(context.recResult in commands);},actions:cancel(\"maxsp\")},{target:\"helpD\",cond:function cond(context){return context.recResult in commands;}}],MAXSPEECH:[{target:\".maxspeech\",cond:function cond(context){return grammar3[\"count\"]<=2;},actions:assign(function(context){grammar3[\"count\"]=grammar3[\"count\"]+1;})},{target:\"#root.dm.init\",cond:function cond(context){return grammar3[\"count\"]>2;},actions:assign(function(context){grammar3[\"count\"]=0;})}]},states:{prompt:{entry:send(function(context){return{type:\"SPEAK\",value:\"Good.on \".concat(context.day,\". Will it take the whole day?\")};}),on:{ENDSPEECH:\"ask\"}},hist:{type:\"history\"},ask:{entry:[listen(),send('MAXSPEECH',{delay:5000,id:\"maxsp\"})]},maxspeech:_objectSpread({},speech(\"You did not respond, say a decision\")),nomatch:{entry:say(\"Could you please repeat\"),on:{ENDSPEECH:\"prompt\"}}}},helpD:_objectSpread({},helpm(\"Please tell me your decision\",\"wholeday\")),notime:{initial:\"prompt\",on:{RECOGNISED:[{cond:function cond(context){return grammar2[context.recResult]===true;},target:\"Finished\",actions:[assign(function(context){grammar3[\"count\"]=0;}),cancel(\"maxsp\")]},{cond:function cond(context){return grammar2[context.recResult]===false;},target:\"who\",actions:[assign(function(context){grammar3[\"count\"]=0;}),cancel(\"maxsp\")]},{target:\".nomatch\",cond:function cond(context){return!(context.recResult in commands);},actions:cancel(\"maxsp\")},{target:\"helpE\",cond:function cond(context){return context.recResult in commands;}}],MAXSPEECH:[{target:\".maxspeech\",cond:function cond(context){return grammar3[\"count\"]<=2;},actions:assign(function(context){grammar3[\"count\"]=grammar3[\"count\"]+1;})},{target:\"#root.dm.init\",cond:function cond(context){return grammar3[\"count\"]>2;},actions:assign(function(context){grammar3[\"count\"]=0;})}]},states:{prompt:{entry:send(function(context){return{type:\"SPEAK\",value:\"Good. Do you want to me create an appointment with \".concat(context.person,\" on \").concat(context.day,\"for the whole day?\")};}),on:{ENDSPEECH:\"ask\"}},hist:{type:\"history\"},ask:{entry:[listen(),send('MAXSPEECH',{delay:5000,id:\"maxsp\"})]},maxspeech:_objectSpread({},speech(\"I didn't get a respond, please confirm it\")),nomatch:{entry:say(\"Please repeat\"),on:{ENDSPEECH:\"prompt\"}}}},helpE:_objectSpread({},helpm(\"Please confirm it\",\"notime\")),whattime:{initial:\"prompt\",on:{RECOGNISED:[{cond:function cond(context){return\"time\"in(grammar[context.recResult]||{});},actions:[assign(function(context){return{time:grammar[context.recResult].time};}),assign(function(context){grammar3[\"count\"]=0;})],target:\"withtime\"},{target:\".nomatch\",cond:function cond(context){return!(context.recResult in commands);},actions:cancel(\"maxsp\")},{target:\"helpF\",cond:function cond(context){return context.recResult in commands;}}],MAXSPEECH:[{target:\".maxspeech\",cond:function cond(context){return grammar3[\"count\"]<=2;},actions:assign(function(context){grammar3[\"count\"]=grammar3[\"count\"]+1;})},{target:\"#root.dm.init\",cond:function cond(context){return grammar3[\"count\"]>2;},actions:assign(function(context){grammar3[\"count\"]=0;})}]},states:{prompt:{entry:say(\"What time is your meeting\"),on:{ENDSPEECH:\"ask\"}},hist:{type:\"history\"},ask:{entry:[listen(),send('MAXSPEECH',{delay:5000,id:\"maxsp\"})]},maxspeech:_objectSpread({},speech(\"I didn't get a respond, please say a time\")),nomatch:{entry:say(\"Please repeat\"),on:{ENDSPEECH:\"prompt\"}}}},helpF:_objectSpread({},helpm(\"Please tell me the time\",\"whattime\")),withtime:{initial:\"prompt\",on:{RECOGNISED:[{cond:function cond(context){return grammar2[context.recResult]===true;},target:\"Finished\",actions:assign(function(context){grammar3[\"count\"]=0;})},{cond:function cond(context){return grammar2[context.recResult]===false;},target:\"who\",actions:[assign(function(context){grammar3[\"count\"]=0;}),cancel(\"maxsp\")]},{target:\".nomatch\",cond:function cond(context){return!(context.recResult in commands);},actions:cancel(\"maxsp\")},{target:\"helpG\",cond:function cond(context){return context.recResult in commands;}}],MAXSPEECH:[{target:\".maxspeech\",cond:function cond(context){return grammar3[\"count\"]<=2;},actions:assign(function(context){grammar3[\"count\"]=grammar3[\"count\"]+1;})},{target:\"#root.dm.init\",cond:function cond(context){return grammar3[\"count\"]>2;},actions:assign(function(context){grammar3[\"count\"]=0;})}]},states:{prompt:{entry:send(function(context){return{type:\"SPEAK\",value:\"Good. Do you want to make an appointment with \".concat(context.person,\" on \").concat(context.day,\" at \").concat(context.time,\"?\")};}),on:{ENDSPEECH:\"ask\"}},hist:{type:\"history\"},ask:{entry:[listen(),send('MAXSPEECH',{delay:5000,id:\"maxsp\"})]},maxspeech:_objectSpread({},speech(\"I didn't get a respond, please confirm it\")),nomatch:{entry:say(\"Please repeat\"),on:{ENDSPEECH:\"prompt\"}}}},helpG:_objectSpread({},helpm(\"Please confirm it\",\"withtime\")),Finished:{initial:\"prompt\",on:{ENDSPEECH:\"init\"},states:{prompt:{entry:say(\"Your appointment has been created successfully!\")}}}}};/* RASA API\n *  */var proxyurl=\"https://cors-anywhere.herokuapp.com/\";var rasaurl=\"https://rasa-nlu-app.herokuapp.com/model/parse\";var nluRequest=function nluRequest(text){return fetch(new Request(proxyurl+rasaurl,{method:\"POST\",headers:{\"Origin\":\"http://localhost:3000/react-xstate-colourchanger\"},// only required with proxy\nbody:\"{\\\"text\\\": \\\"\".concat(text,\"\\\"}\")})).then(function(data){return data.json();});};","map":{"version":3,"sources":["/Users/aggzagoura/Downloads/react-xstate-colourchanger-master-2/src/dmAppointment.ts"],"names":["send","assign","actions","cancel","say","text","_context","type","value","listen","promptAndAsk","prompt","speechprompt","initial","states","entry","on","ENDSPEECH","hist","maxspeech","speech","ask","delay","helpm","name","grammar","person","day","time","grammar2","commands","grammar3","dmMachine","init","CLICK","welcome","RECOGNISED","target","cond","context","recResult","option","MAXSPEECH","helpA","query","invoke","id","src","event","nluRequest","onDone","data","intent","console","log","onError","menu","todo","timer","appointment","who","nomatch","helpB","helpC","wholeday","helpD","notime","helpE","whattime","helpF","withtime","helpG","Finished","proxyurl","rasaurl","fetch","Request","method","headers","body","then","json"],"mappings":"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","sourcesContent":["import { MachineConfig, send, Action, assign, actions} from \"xstate\";\nimport \"./styles.scss\";\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { useMachine, asEffect } from \"@xstate/react\";\nimport { inspect } from \"@xstate/inspect\";\n\nconst {cancel}=actions\n\nfunction say(text: string): Action<SDSContext, SDSEvent> {\n    return send((_context: SDSContext) => ({ type: \"SPEAK\", value: text }))\n}\n\nfunction listen(): Action<SDSContext, SDSEvent> {\n    return send('LISTEN')\n}\n\nfunction promptAndAsk(prompt: string, speechprompt:string): MachineConfig<SDSContext, any, SDSEvent> {\n    return ({\n        initial: \"prompt\",\n        states: {\n            prompt: {\n                entry: say(prompt),\n                on: { ENDSPEECH: \"ask\" }\n            },\n            hist: {type: \"history\"},\n            maxspeech: {\n                ...speech(speechprompt)\n        },  \n            ask: {\n                entry: [listen(), send('MAXSPEECH', {delay: 5000})]\n            },\n        }})\n}\n\n\nfunction helpm(prompt: string, name: string): MachineConfig<SDSContext, any, SDSEvent>{\n    return ({entry: say(prompt),\n             on: {ENDSPEECH: name+\".hist\" }})\n}\n\nfunction speech(prompt: string): MachineConfig<SDSContext, any, SDSEvent>{\n    return ({entry: say(prompt),\n             on: {ENDSPEECH: \"ask\"\n            }})\n}\n\nconst grammar: { [index: string]: { person?: string, day?: string, time?: string } } = {\n    \"John\": { person: \"John Appleseed\" },\n    \"Mary\": { person: \"Mary Zagoura\" },\n    \"Nick\": { person: \"Nick Katapodis\" },\n    \"Samantha\": { person: \"Samantha Meyers\" },\n    \"Anna\": { person: \"Anna Heathrow\" },\n    \"James\": { person: \"James Smith\" },\n    \"on Friday\": { day: \"Friday\" },\n    \"on Monday\": { day: \"Monday\" },\n    \"on Tuesday\": { day: \"Tuesday\" },\n    \"on Saturday\": { day: \"Saturday\" },\n    \"at ten\": { time: \"10:00\" },\n    \"at 10\": { time: \"10:00\" },\n    \"at eight\": { time: \"8:00\" },\n    \"at 8\": { time: \"8:00\"},\n    \"at eleven\": { time: \"11:00\" },\n    \"at 11\": { time: \"11:00\" },\n    \"at twelve\": { time: \"12:00\" },\n    \"at 12\": { time: \"12:00\" }\n}\n\nconst grammar2= { \"yes\": true,\n                  \"Yes\": true,\n\t\t\t\t  \"Of course\": true,\n                  \"of course\": true, \n\t\t\t\t  \"No\": false,\n\t\t\t\t  \"no\" : false,\n\t\t\t\t  \"No way\": false,\n\t\t\t\t  \"no way\" : false\n}\nconst commands = {\"help\": \"h\", \"Help\": \"H\"}\n\nconst grammar3 ={\"count\": 0}\n\nexport const dmMachine: MachineConfig<SDSContext, any, SDSEvent> = ({\n    initial: 'init',\n    states: {\n        init: {\n            on: {\n                CLICK: 'welcome'\n            }\n        },\n\t\twelcome: {\n            initial: \"prompt\",\n            on: {\n                RECOGNISED: [{\n                    target: \"query\",\n                    cond: (context) => !(context.recResult in commands),\n                    actions: [assign((context) => { return { option: context.recResult } }),assign((context) => { grammar3[\"count\"]=0})],\n                    \n                },\n                {target: \"helpA\",\n                cond: (context) => context.recResult in commands }],\n                MAXSPEECH: [{target:\".maxspeech\",\n                cond: (context) => grammar3[\"count\"] <= 2,\n                actions: assign((context) => { grammar3[\"count\"]=grammar3[\"count\"]+1 } )\n                },{target: \"#root.dm.init\", \n                cond: (context) => grammar3[\"count\"] > 2, \n                actions:assign((context) => { grammar3[\"count\"]=0})}]\n            },\n            states: {        \n                prompt: {\n                entry: say(\"What do you want to do?\"),\n                on: { ENDSPEECH: \"ask\" }\n            },\n            hist: {type: \"history\"},\n               maxspeech: {\n                ...speech(\"I didn't get a respondï¼Œplease repeat\")\n        },  \n            ask: {\n                entry: [listen(), send('MAXSPEECH', {delay: 5000})]\n            }\n        }   \n    }, \n    \n        helpA:{\n            ...helpm(\"Please tell me what you want to do\",\"welcome\")\n        },\n\t\tquery: {\n            invoke: {\n                id: \"rasa\",\n                src: (context, event) => nluRequest(context.option),\n                onDone: {\n                    target: \"menu\",\n                    actions: [assign((context, event) => { return  {option: event.data.intent.name} }),\n                    (context: SDSContext, event: any) => console.log(event.data)]\n                    //actions: assign({ intent: (context: SDSContext, event: any) =>{ return event.data }})\n\n                },\n                onError: {\n                    target: \"welcome\",\n                    actions: (context, event) => console.log(event.data)\n                }\n            }\n        },\n      \n        menu: {\n            initial: \"prompt\",\n            on: {\n                ENDSPEECH: [\n                    { target: \"todo\", cond: (context) => context.option === \"todo\" },\n                    { target: \"timer\", cond: (context) => context.option === \"timer\" },\n                    { target: \"appointment\", cond: (context) => context.option === \"appointment\" }\n                ]\n            },\n            states: {\n                prompt: {\n                    entry: send((context) => ({\n                        type: \"SPEAK\",\n                        value: `OK. I seeï¼Œyou want a ${context.option}.`\n                    })),\n        },\n     /*            nomatch: {\n                    entry: say(\"Sorry, I don\"t understand\"),\n                    on: { ENDSPEECH: \"prompt\" }\n        } */ \n            }       \n        },\n\n\n        todo: {\n            initial: \"prompt\",\n            on: { ENDSPEECH: \"init\" },\n            states: {\n                prompt: {\n                    entry: send((context) => ({\n                        type: \"SPEAK\",\n                        value: `Let's create a to do item`\n                    }))\n                }}\n        },\n        \n        timer: {\n            initial: \"prompt\",\n            on: { ENDSPEECH: \"init\" },\n            states: {\n                prompt: {\n                    entry: send((context) => ({\n                        type: \"SPEAK\",\n                        value: `Let's create a timer`\n                    }))\n                }}\n        },\n        \n        \n        appointment: {\n            initial: \"prompt\",\n            on: { ENDSPEECH: \"who\" },\n            states: {\n                prompt: {\n                    entry: send((context) => ({\n                        type: \"SPEAK\",\n                        value: `Let's make an appointment`\n                    }))\n                }}\n        },\n        who: {\n            initial: \"prompt\",\n            on: {\n                RECOGNISED: [{\n                    cond: (context) => \"person\" in (grammar[context.recResult] || {}),\n                    actions: [assign((context) => { return { person: grammar[context.recResult].person } }),assign((context) => { grammar3[\"count\"]=0}), cancel(\"maxsp\")],\n                    target: \"day\"\n\n                },\n                { target: \".nomatch\" ,\n                 cond: (context) => !(context.recResult in commands),\n                 actions: cancel(\"maxsp\")},\n                 {target: \"helpB\",\n                 cond: (context) => context.recResult in commands}],\n                 MAXSPEECH: [{target:\".maxspeech\",\n                 cond: (context) => grammar3[\"count\"] <= 2,\n                actions: assign((context) => { grammar3[\"count\"]=grammar3[\"count\"]+1 } )\n                },{target: \"#root.dm.init\", \n                cond: (context) => grammar3[\"count\"] > 2, \n                actions:assign((context) => { grammar3[\"count\"]=0})}] \n            },\n            states: {\n                prompt: {\n                    entry: say(\"Who are you meeting with?\"),\n                    on: { ENDSPEECH: \"ask\" }\n                },\n                hist: {type: \"history\"},\n                ask: {\n                    entry: [listen(), send('MAXSPEECH', {delay: 5000, id: \"maxsp\"})]\n                },\n                maxspeech: {\n                    ...speech(\"I didn't get a respond, please tell me the person\")\n                },\n                nomatch: {\n                    entry: say(\"Sorry I'm not aware of this name\"),\n                    on: { ENDSPEECH:  \"prompt\" }\n                \n                }\n             }\n        },\n        helpB:{\n            ...helpm(\"Please tell me the name\",\"who\")\n        },\n        day: {\n            initial: \"prompt\",\n            on: {\n\t            RECOGNISED: [{\n\t                cond: (context) => \"day\" in (grammar[context.recResult] || {}),\n\t\t            actions: [assign((context) => { return { day: grammar[context.recResult].day } }),assign((context) => { grammar3[\"count\"]=0}),cancel(\"maxsp\")],\n\t\t            target: \"wholeday\"\n\n\t\t        },\t\n\t\t        { target: \".nomatch\" ,\n                cond: (context) => !(context.recResult in commands),\n                actions: cancel(\"maxsp\")},\n                {target: \"helpC\",\n                cond: (context) => context.recResult in commands}],\n                MAXSPEECH: [{target:\".maxspeech\",\n                cond: (context) => grammar3[\"count\"] <= 2,\n                actions: assign((context) => { grammar3[\"count\"]=grammar3[\"count\"]+1 } )\n                },{target: \"#root.dm.init\", \n                cond: (context) => grammar3[\"count\"] > 2, \n                actions:assign((context) => { grammar3[\"count\"]=0})}] \n\t        },\n            states: {\n                prompt: {\n                    entry: send((context) => ({\n                        type: \"SPEAK\",\n                        value: `OK. ${context.person}. On which day is your meeting?`\n                    })),\n\t\t            on: { ENDSPEECH: \"ask\" }\n                },\n                hist: {type: \"history\"},\n\t\t        ask: {\n\t\t            entry: [listen(), send('MAXSPEECH', {delay: 5000, id: \"maxsp\"})]\n\t            },\n                maxspeech: {\n                 ...speech(\"I didn't get a respond, please say a day\")\n              },\n\t\t        nomatch: {\n\t\t            entry: say(\"Sorry I don't recognise the day you are telling me\"),\n\t\t            on: { ENDSPEECH: \"prompt\" }\n\t            }\t     \n            }\n        },\n        helpC:{\n            ...helpm(\"Please tell me the day\",\"day\")\n        },\n        \n\t    wholeday: {\n\t\t        initial: \"prompt\",\n\t\t        on: {\n\t                RECOGNISED: [{\n\t\t\t            cond: (context) => grammar2[context.recResult] === true,\n                        target: \"notime\",\n                        actions: [assign((context) => { grammar3[\"count\"]=0}),cancel(\"maxsp\")]},\n\t\t\t\t\t\t{\n\t\t\t\t\t\tcond: (context) => grammar2[context.recResult] === false,\n\t\t\t\t\t\ttarget: \"whattime\",\n                        actions: [assign((context) => { grammar3[\"count\"]=0}),cancel(\"maxsp\")]\n\t\t            },\n\t                { target: \".nomatch\",\n                    cond: (context) => !(context.recResult in commands),\n                    actions: cancel(\"maxsp\")},\n                    {target: \"helpD\",\n                    cond: (context) => context.recResult in commands}],\n                    MAXSPEECH: [{target:\".maxspeech\",\n                    cond: (context) => grammar3[\"count\"] <= 2,\n                actions: assign((context) => { grammar3[\"count\"]=grammar3[\"count\"]+1 } )\n                },{target: \"#root.dm.init\", \n                cond: (context) => grammar3[\"count\"] > 2, \n                actions:assign((context) => { grammar3[\"count\"]=0})}] \n\t\t        },\n\t\t        states: {\n\t\t            prompt: {\n\t\t\t            entry: send((context) => ({\n\t\t\t                type: \"SPEAK\",\n\t\t\t\t\t\t    value: `Good.on ${context.day}. Will it take the whole day?`\n\t\t\t            })),\n\t\t\t            on: { ENDSPEECH: \"ask\" }\n\t\t            },\n                    hist: {type: \"history\"},\n\t\t            ask: {\n\t\t                entry: [listen(), send('MAXSPEECH', {delay: 5000, id: \"maxsp\"})]\n\t\t            },\n                    maxspeech: {\n                      ...speech(\"You did not respond, say a decision\")\n                    },\n\t\t            nomatch: {\n\t\t\t            entry: say(\"Could you please repeat\"),\n\t\t                on: { ENDSPEECH: \"prompt\" }\n\t\t            }\n\t\t        }\t     \n            },\n            helpD:{\n                ...helpm(\"Please tell me your decision\",\"wholeday\")\n            },\n            notime: {\n\t\t           initial: \"prompt\",\n\t               on: {\n\t\t               RECOGNISED: [{ \n\t\t\t               cond: (context) => grammar2[context.recResult] === true,\n\t\t\t               target: \"Finished\",\n                           actions: [assign((context) => { grammar3[\"count\"]=0}),cancel(\"maxsp\")]},\n\t\t\t\t\t\t   {\n\t\t\t\t\t\t\tcond: (context) => grammar2[context.recResult] === false,\n                           target: \"who\",\n\t\t\t\t\t\t   actions: [assign((context) => { grammar3[\"count\"]=0}),cancel(\"maxsp\")]\n\t\t                },\n\t\t                { target: \".nomatch\",\n                        cond: (context) => !(context.recResult in commands),\n                        actions: cancel(\"maxsp\")},\n                        {target: \"helpE\",\n                        cond: (context) => context.recResult in commands}],\n                        MAXSPEECH: [{target:\".maxspeech\",\n                        cond: (context) => grammar3[\"count\"] <= 2,\n                actions: assign((context) => { grammar3[\"count\"]=grammar3[\"count\"]+1 } )\n                },{target: \"#root.dm.init\", \n                cond: (context) => grammar3[\"count\"] > 2, \n                actions:assign((context) => { grammar3[\"count\"]=0})}]  \n\t\t            },\n\t\t            states: {\n\t\t                prompt: {\n\t\t\t                entry: send((context) => ({\n\t\t\t                    type: \"SPEAK\",\n\t\t\t\t\t\t\t\tvalue: `Good. Do you want to me create an appointment with ${context.person} on ${context.day}for the whole day?`\n                            })),\n                            on: { ENDSPEECH: \"ask\" }\n\t\t                },\n                        hist: {type: \"history\"},\n\t\t                ask: {\n\t\t\t                entry: [listen(), send('MAXSPEECH', {delay: 5000, id: \"maxsp\"})]\n\t\t                },\n                        maxspeech: {\n                             ...speech(\"I didn't get a respond, please confirm it\")},\n\t\t                nomatch: {\n\t\t\t                entry: say(\"Please repeat\"),\n\t\t\t                on: { ENDSPEECH: \"prompt\" }\n\t\t                }\n                    }\n\t            },\n                helpE:{\n                    ...helpm(\"Please confirm it\",\"notime\")\n                },\n\t\t\t\twhattime: {\n\t\t\t\t\tinitial: \"prompt\",\n\t\t\t\t\ton: {\n\t\t\t\t\t\tRECOGNISED: [{\n\t\t\t\t\t\t\tcond: (context) => \"time\" in (grammar[context.recResult] || {}),\n\t\t\t\t\t\t\tactions: [assign((context) => { return { time: grammar[context.recResult].time } }),assign((context) => { grammar3[\"count\"]=0})],\n\t\t\t\t\t\t\ttarget: \"withtime\"\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ target: \".nomatch\" ,\n                        cond: (context) => !(context.recResult in commands),\n                        actions: cancel(\"maxsp\")},\n                        {target: \"helpF\",\n                        cond: (context) => context.recResult in commands}],\n                        MAXSPEECH: [{target:\".maxspeech\",\n                        cond: (context) => grammar3[\"count\"] <= 2,\n                actions: assign((context) => { grammar3[\"count\"]=grammar3[\"count\"]+1 } )\n                },{target: \"#root.dm.init\", \n                cond: (context) => grammar3[\"count\"] > 2, \n                actions:assign((context) => { grammar3[\"count\"]=0})}]  \n\t\t\t\t\t},\n\t\t\t\t\tstates: {\n\t\t\t\t\t\tprompt: { entry: say(\"What time is your meeting\"),\n\t\t\t\t\t\ton: { ENDSPEECH: \"ask\" }\n\t\t\t\t\t},\n                    hist: {type: \"history\"},\n\t\t\t\t\task: {\n\t\t\t\t\t\tentry: [listen(), send('MAXSPEECH', {delay: 5000, id: \"maxsp\"})]\n\t\t\t\t},\n                maxspeech: {\n                  ...speech(\"I didn't get a respond, please say a time\")\n                },\n\t\t\t\tnomatch: {\n\t\t\t\t\tentry: say(\"Please repeat\"),\n\t\t\t\t\ton: { ENDSPEECH: \"prompt\" }\n\t\t\t\t}\n\t\t\t}\n\t\t},\n        helpF:{\n            ...helpm(\"Please tell me the time\",\"whattime\")\n        },\n        \n\t\twithtime: {\n\t\t\tinitial: \"prompt\",\n\t\t\ton: {\n\t\t\t\tRECOGNISED: [{ \n\t\t\t\t\tcond: (context) => grammar2[context.recResult] === true,\n\t\t\t\t\ttarget: \"Finished\",\n                    actions: assign((context) => { grammar3[\"count\"]=0})},\n\t\t\t\t\t{\n\t\t\t\t\tcond: (context) => grammar2[context.recResult] === false,\n\t\t\t\t\ttarget: \"who\",\n                    actions: [assign((context) => { grammar3[\"count\"]=0}),cancel(\"maxsp\")]\n\t\t\t\t },\n\t\t\t\t { target: \".nomatch\",\n                 cond: (context) => !(context.recResult in commands),\n                 actions: cancel(\"maxsp\")},\n                 {target: \"helpG\",\n                 cond: (context) => context.recResult in commands}],\n                 MAXSPEECH: [{target:\".maxspeech\",\n                 cond: (context) => grammar3[\"count\"] <= 2,\n                actions: assign((context) => { grammar3[\"count\"]=grammar3[\"count\"]+1 } )\n                },{target: \"#root.dm.init\", \n                cond: (context) => grammar3[\"count\"] > 2, \n                actions:assign((context) => { grammar3[\"count\"]=0})}] \n\t\t\t },\n\t\t\t states: {\n\t\t\t\t prompt: {\n\t\t\t\t\t entry: send((context) => ({\n\t\t\t\t\t\t type: \"SPEAK\",\n\t\t\t\t\t\t value: `Good. Do you want to make an appointment with ${context.person} on ${context.day} at ${context.time}?`\n\t\t\t\t\t })),\n\t\t\t\t\t on: { ENDSPEECH: \"ask\" }\n\t\t\t\t },\n                 hist: {type: \"history\"},\n\t\t\t\t ask: {\n\t\t\t\t\t entry: [listen(), send('MAXSPEECH', {delay: 5000, id: \"maxsp\"})]\n\t\t\t\t },\n                maxspeech: {\n                 ...speech(\"I didn't get a respond, please confirm it\")\n                },        \n\t\t\t\t nomatch: {\n\t\t\t\t\t entry: say(\"Please repeat\"),\n\t\t\t\t\t on: { ENDSPEECH: \"prompt\" }\n\t\t\t\t }\n\t\t\t }\n\t\t},\n        helpG:{\n            ...helpm(\"Please confirm it\",\"withtime\")\n        },\n        \n        Finished: {\n\t\t                 initial: \"prompt\",\n\t\t                 on: { ENDSPEECH: \"init\" },\n\t\t                 states: {\n\t\t\t                 prompt: { entry: say(\"Your appointment has been created successfully!\")\n\t\t                    },\n\t                    }\n\t                }\t    \n                }\n            })\n\n\n\t\t\t/* RASA API\n *  */\nconst proxyurl = \"https://cors-anywhere.herokuapp.com/\";\nconst rasaurl = \"https://rasa-nlu-app.herokuapp.com/model/parse\"\nconst nluRequest = (text: string) =>\n    fetch(new Request(proxyurl + rasaurl, {\n        method: \"POST\",\n        headers: { \"Origin\": \"http://localhost:3000/react-xstate-colourchanger\" }, // only required with proxy\n        body: `{\"text\": \"${text}\"}`\n    }))\n        .then(data => data.json());\n"]},"metadata":{},"sourceType":"module"}